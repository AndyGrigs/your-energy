const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-DmlZq1pp.js","assets/vendor-DnveWo0P.css"])))=>i.map(i=>d[i]);
import{i as f,c as P,r as y}from"./assets/refs-D9_6AxTM.js";import{a as z,i as v}from"./assets/vendor-DmlZq1pp.js";const B=async e=>{const{data:t}=await z.post("/subscription",{email:e});return t},x=async e=>{try{const{message:t}=await B(e);return v.show({...f.success,message:t,timeout:5e3}),t}catch(t){const{status:s}=t,n=P[s]||`Unexpected error (${t.message||"unknown"})`;throw v.show({...f.error,message:n}),{code:s,message:n}}};function A(){const e=window.innerHeight/4;window.scrollY>e?y.scrollToTopBtn.classList.remove("invisible"):y.scrollToTopBtn.classList.add("invisible")}function $(){window.scrollTo({top:0,behavior:"smooth"})}const a=document.querySelector('[data-modal="rating"]'),c=a==null?void 0:a.querySelector("form"),p=c==null?void 0:c.querySelectorAll('input[name="rating"]'),I=c==null?void 0:c.querySelector(".rating-value"),w=a==null?void 0:a.querySelector("[data-modal-close]");p==null||p.forEach(e=>{e.addEventListener("change",()=>{I.textContent=e.value+".0"})});c==null||c.addEventListener("submit",O);function O(e){var o;e.preventDefault();const t=e.target,s=+((o=t.querySelector('[name="rating"]:checked'))==null?void 0:o.value)||0,n=t.querySelector('[name="email"]').value.trim(),i=t.querySelector('[name="comment"]').value.trim();if(!s||!n||!i){iziToast.error({message:"Будь ласка, заповніть всі поля"});return}if(!/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(n)){iziToast.error({message:"Введіть коректний email"});return}fetch("https://httpbin.org/post",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rating:s,email:n,comment:i})}).then(r=>{if(!r.ok)throw new Error("Не вдалося надіслати оцінку");S(),iziToast.success({message:"Дякуємо за вашу оцінку!"})}).catch(r=>{iziToast.error({message:r.message})})}w==null||w.addEventListener("click",S);function S(){a==null||a.classList.add("hidden")}const R="modulepreload",D=function(e){return"/your-energy/"+e},b={},U=function(t,s,n){let i=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),r=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(s.map(l=>{if(l=D(l),l in b)return;b[l]=!0;const u=l.endsWith(".css"),_=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${_}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":R,u||(d.as="script"),d.crossOrigin="",d.href=l,r&&d.setAttribute("nonce",r),document.head.appendChild(d),u)return new Promise((q,C)=>{d.addEventListener("load",q),d.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${l}`)))})}))}function h(o){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=o,window.dispatchEvent(r),!r.defaultPrevented)throw o}return i.then(o=>{for(const r of o||[])r.status==="rejected"&&h(r.reason);return t().catch(h)})};class g{constructor({target:t,path:s="/animations/loader.json",size:n=80,color:i="#000"}){if(this.target=typeof t=="string"?document.querySelector(t):t,!this.target)throw new Error("Target element not found for Loader");this._path=s,this._size=n,this._color=i,this._loaded=!1,this.wrapper=document.createElement("div"),this.wrapper.style.cssText=`
      width: ${n}px;
      height: ${n}px;
      display: none;
      position: relative;
    `,this.animContainer=document.createElement("div"),this.animContainer.style.cssText=`
      width: 100%;
      height: 100%;
    `,this.wrapper.appendChild(this.animContainer),this.target.appendChild(this.wrapper)}async _init(){if(this._loaded)return;const{default:t}=await U(async()=>{const{default:n}=await import("./assets/vendor-DmlZq1pp.js").then(i=>i.l);return{default:n}},__vite__mapDeps([0,1]));t.loadAnimation({container:this.animContainer,renderer:"svg",loop:!0,autoplay:!0,path:this._path}).addEventListener("DOMLoaded",()=>{this.animContainer.querySelectorAll("path").forEach(i=>i.setAttribute("fill",this._color))}),this._loaded=!0,await new Promise(n=>setTimeout(n,50))}async show(){await this._init(),this.wrapper.style.display="block"}hide(){this.wrapper.style.display="none"}}const j=document.getElementById("burger"),k=document.getElementById("mobileMenu"),M=document.getElementById("closeMenu");j.addEventListener("click",()=>{k.classList.add("active")});M.addEventListener("click",()=>{k.classList.remove("active")});window.addEventListener("scroll",A);y.scrollToTopBtn.addEventListener("click",$);const m=document.querySelector("#subscribe-form");m&&m.addEventListener("submit",async e=>{e.preventDefault();try{const t=m.email.value;await x(t),m.reset()}catch(t){console.log(t)}});const E=new g({target:"#red-loader",size:50,color:"red"});document.getElementById("red-btn").addEventListener("click",async()=>{E.show(),await new Promise(e=>setTimeout(e,3e3)),E.hide()});const T=new g({target:"#blue-loader",size:75,color:"blue"});document.getElementById("blue-btn").addEventListener("click",async()=>{T.show(),await new Promise(e=>setTimeout(e,3e3)),T.hide()});const L=new g({target:"#black-loader",size:100,color:"black"});document.getElementById("black-btn").addEventListener("click",async()=>{L.show(),await new Promise(e=>setTimeout(e,3e3)),L.hide()});
//# sourceMappingURL=index.js.map
