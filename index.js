import{c as y,r as u}from"./assets/refs-B6K3mp_j.js";import{i as d,a as b}from"./assets/vendor-Dd1l0CXC.js";d.settings({timeout:3e3,transitionIn:"flipInX",transitionOut:"flipOutX",iconColor:"#FFF",color:"#FFF",close:!0,position:"topRight",messageColor:"#FFF",messageSize:"16px",progressBar:!0,progressBarEasing:"linear",maxWidth:"432px",message:"Sorry, something went wrong."});const p=window.location.origin.includes("localhost")||window.location.origin.includes("127.0.0.1"),h={success:{iconUrl:p?"./img/success.svg":"/your-energy/img/success.svg",progressBarColor:"#326101",backgroundColor:"#59A10D"},error:{iconUrl:p?"./img/error.svg":"/your-energy/img/error.svg",progressBarColor:"#B51B1B",backgroundColor:"#EF4040"}},S=async o=>{const{data:e}=await b.post("/subscription",{email:o});return e},T=async o=>{try{const{message:e}=await S(o);return d.show({...h.success,message:e,timeout:5e3}),e}catch(e){const{status:n}=e,r=y[n]||`Unexpected error (${e.message||"unknown"})`;throw d.show({...h.error,message:r}),{code:n,message:r}}};function f(){const o=window.innerHeight/4;window.scrollY>o?u.scrollToTopBtn.classList.remove("invisible"):u.scrollToTopBtn.classList.add("invisible")}function E(){window.scrollTo({top:0,behavior:"smooth"})}const t=document.querySelector('[data-modal="rating"]'),s=t==null?void 0:t.querySelector("form"),a=s==null?void 0:s.querySelectorAll('input[name="rating"]'),L=s==null?void 0:s.querySelector(".rating-value"),l=t==null?void 0:t.querySelector("[data-modal-close]");a==null||a.forEach(o=>{o.addEventListener("change",()=>{L.textContent=o.value+".0"})});s==null||s.addEventListener("submit",B);function B(o){var m;o.preventDefault();const e=o.target,n=+((m=e.querySelector('[name="rating"]:checked'))==null?void 0:m.value)||0,r=e.querySelector('[name="email"]').value.trim(),g=e.querySelector('[name="comment"]').value.trim();if(!n||!r||!g){iziToast.error({message:"Будь ласка, заповніть всі поля"});return}if(!/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(r)){iziToast.error({message:"Введіть коректний email"});return}fetch("https://httpbin.org/post",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rating:n,email:r,comment:g})}).then(c=>{if(!c.ok)throw new Error("Не вдалося надіслати оцінку");v(),iziToast.success({message:"Дякуємо за вашу оцінку!"})}).catch(c=>{iziToast.error({message:c.message})})}l==null||l.addEventListener("click",v);function v(){t==null||t.classList.add("hidden")}const F=document.getElementById("burger"),w=document.getElementById("mobileMenu"),k=document.getElementById("closeMenu");F.addEventListener("click",()=>{w.classList.add("active")});k.addEventListener("click",()=>{w.classList.remove("active")});window.addEventListener("scroll",f);u.scrollToTopBtn.addEventListener("click",E);const i=document.querySelector("#subscribe-form");i&&i.addEventListener("submit",async o=>{o.preventDefault();try{const e=i.email.value;await T(e),i.reset()}catch(e){console.log(e)}});
//# sourceMappingURL=index.js.map
