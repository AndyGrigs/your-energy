const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-DmlZq1pp.js","assets/vendor-DnveWo0P.css"])))=>i.map(i=>d[i]);
import{c as x,r as w}from"./assets/refs-vsKW8iO3.js";import{i as y,a as F}from"./assets/vendor-DmlZq1pp.js";y.settings({timeout:3e3,transitionIn:"flipInX",transitionOut:"flipOutX",iconColor:"#FFF",color:"#FFF",close:!0,position:"topRight",messageColor:"#FFF",messageSize:"16px",progressBar:!0,progressBarEasing:"linear",maxWidth:"432px",message:"Sorry, something went wrong."});const v=window.location.origin.includes("localhost")||window.location.origin.includes("127.0.0.1"),b={success:{iconUrl:v?"./img/success.svg":"/your-energy/img/success.svg",progressBarColor:"#326101",backgroundColor:"#59A10D"},error:{iconUrl:v?"./img/error.svg":"/your-energy/img/error.svg",progressBarColor:"#B51B1B",backgroundColor:"#EF4040"}},P=async e=>{const{data:t}=await F.post("/subscription",{email:e});return t},z=async e=>{try{const{message:t}=await P(e);return y.show({...b.success,message:t,timeout:5e3}),t}catch(t){const{status:s}=t,o=x[s]||`Unexpected error (${t.message||"unknown"})`;throw y.show({...b.error,message:o}),{code:s,message:o}}};function A(){const e=window.innerHeight/4;window.scrollY>e?w.scrollToTopBtn.classList.remove("invisible"):w.scrollToTopBtn.classList.add("invisible")}function I(){window.scrollTo({top:0,behavior:"smooth"})}const a=document.querySelector('[data-modal="rating"]'),c=a==null?void 0:a.querySelector("form"),g=c==null?void 0:c.querySelectorAll('input[name="rating"]'),O=c==null?void 0:c.querySelector(".rating-value"),p=a==null?void 0:a.querySelector("[data-modal-close]");g==null||g.forEach(e=>{e.addEventListener("change",()=>{O.textContent=e.value+".0"})});c==null||c.addEventListener("submit",$);function $(e){var r;e.preventDefault();const t=e.target,s=+((r=t.querySelector('[name="rating"]:checked'))==null?void 0:r.value)||0,o=t.querySelector('[name="email"]').value.trim(),i=t.querySelector('[name="comment"]').value.trim();if(!s||!o||!i){iziToast.error({message:"Будь ласка, заповніть всі поля"});return}if(!/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(o)){iziToast.error({message:"Введіть коректний email"});return}fetch("https://httpbin.org/post",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rating:s,email:o,comment:i})}).then(n=>{if(!n.ok)throw new Error("Не вдалося надіслати оцінку");k(),iziToast.success({message:"Дякуємо за вашу оцінку!"})}).catch(n=>{iziToast.error({message:n.message})})}p==null||p.addEventListener("click",k);function k(){a==null||a.classList.add("hidden")}const R="modulepreload",U=function(e){return"/your-energy/"+e},E={},D=function(t,s,o){let i=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),n=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));i=Promise.allSettled(s.map(l=>{if(l=U(l),l in E)return;E[l]=!0;const u=l.endsWith(".css"),_=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${_}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":R,u||(d.as="script"),d.crossOrigin="",d.href=l,n&&d.setAttribute("nonce",n),document.head.appendChild(d),u)return new Promise((B,q)=>{d.addEventListener("load",B),d.addEventListener("error",()=>q(new Error(`Unable to preload CSS for ${l}`)))})}))}function h(r){const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=r,window.dispatchEvent(n),!n.defaultPrevented)throw r}return i.then(r=>{for(const n of r||[])n.status==="rejected"&&h(n.reason);return t().catch(h)})};class f{constructor({target:t,path:s="/animations/loader.json",size:o=80,color:i="#000"}){if(this.target=typeof t=="string"?document.querySelector(t):t,!this.target)throw new Error("Target element not found for Loader");this._path=s,this._size=o,this._color=i,this._loaded=!1,this.wrapper=document.createElement("div"),this.wrapper.style.cssText=`
      width: ${o}px;
      height: ${o}px;
      display: none;
      position: relative;
    `,this.animContainer=document.createElement("div"),this.animContainer.style.cssText=`
      width: 100%;
      height: 100%;
    `,this.wrapper.appendChild(this.animContainer),this.target.appendChild(this.wrapper)}async _init(){if(this._loaded)return;const{default:t}=await D(async()=>{const{default:o}=await import("./assets/vendor-DmlZq1pp.js").then(i=>i.l);return{default:o}},__vite__mapDeps([0,1]));t.loadAnimation({container:this.animContainer,renderer:"svg",loop:!0,autoplay:!0,path:this._path}).addEventListener("DOMLoaded",()=>{this.animContainer.querySelectorAll("path").forEach(i=>i.setAttribute("fill",this._color))}),this._loaded=!0,await new Promise(o=>setTimeout(o,50))}async show(){await this._init(),this.wrapper.style.display="block"}hide(){this.wrapper.style.display="none"}}const j=document.getElementById("burger"),C=document.getElementById("mobileMenu"),M=document.getElementById("closeMenu");j.addEventListener("click",()=>{C.classList.add("active")});M.addEventListener("click",()=>{C.classList.remove("active")});window.addEventListener("scroll",A);w.scrollToTopBtn.addEventListener("click",I);const m=document.querySelector("#subscribe-form");m&&m.addEventListener("submit",async e=>{e.preventDefault();try{const t=m.email.value;await z(t),m.reset()}catch(t){console.log(t)}});const L=new f({target:"#red-loader",size:50,color:"red"});document.getElementById("red-btn").addEventListener("click",async()=>{L.show(),await new Promise(e=>setTimeout(e,3e3)),L.hide()});const T=new f({target:"#blue-loader",size:75,color:"blue"});document.getElementById("blue-btn").addEventListener("click",async()=>{T.show(),await new Promise(e=>setTimeout(e,3e3)),T.hide()});const S=new f({target:"#black-loader",size:100,color:"black"});document.getElementById("black-btn").addEventListener("click",async()=>{S.show(),await new Promise(e=>setTimeout(e,3e3)),S.hide()});
//# sourceMappingURL=index.js.map
