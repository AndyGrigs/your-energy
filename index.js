import{i as l,a as n,l as y}from"./assets/vendor-BPZvktA6.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function i(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(t){if(t.ep)return;t.ep=!0;const r=i(t);fetch(t.href,r)}})();l.settings({timeout:3e3,transitionIn:"flipInX",transitionOut:"flipOutX",iconColor:"#FFF",color:"#FFF",close:!0,position:"topRight",messageColor:"#FFF",messageSize:"16px",progressBar:!0,progressBarEasing:"linear",maxWidth:"432px",message:"Sorry, something went wrong."});const p=window.location.origin.includes("localhost")||window.location.origin.includes("127.0.0.1"),m={success:{iconUrl:p?"./img/success.svg":"/your-energy/img/success.svg",progressBarColor:"#326101",backgroundColor:"#59A10D"},error:{iconUrl:p?"./img/error.svg":"/your-energy/img/error.svg",progressBarColor:"#B51B1B",backgroundColor:"#EF4040"}},f="https://your-energy.b.goit.study/api";n.defaults.baseURL=f;const h=async e=>{const{data:o}=await n.post("/subscription",{email:e});return o},w={400:"Invalid request. Please check the email format.",404:"Endpoint not found. Please try again later.",409:"You are already subscribed.",500:"Something went wrong on the server. Please try again later."},b=async e=>{try{const{message:o}=await h(e);return l.show({...m.success,message:o,timeout:5e3}),o}catch(o){const{status:i}=o,s=w[i]||`Unexpected error (${o.message||"unknown"})`;throw l.show({...m.error,message:s}),{code:i,message:s}}},u={scrollToTopBtn:document.querySelector(".js-scroll-to-top-btn")};function v(){const e=window.innerHeight/4;window.scrollY>e?u.scrollToTopBtn.classList.remove("invisible"):u.scrollToTopBtn.classList.add("invisible")}function B(){window.scrollTo({top:0,behavior:"smooth"})}function L(){const e=document.getElementById("loader-overlay");e&&(e.style.display="flex")}function d(){const e=document.getElementById("loader-overlay");e&&(e.style.display="none")}function g(e){return new Promise(o=>setTimeout(o,e))}n.interceptors.request.use(e=>(L(),e),e=>(d(),Promise.reject(e)));n.interceptors.response.use(async e=>(await g(1e3),d(),e),async e=>(await g(1e3),d(),Promise.reject(e)));window.addEventListener("scroll",v);u.scrollToTopBtn.addEventListener("click",B);const c=document.querySelector("#subscribe-form");c&&c.addEventListener("submit",async e=>{e.preventDefault();try{const o=c.email.value;await b(o),c.reset()}catch(o){console.log(o)}});y.loadAnimation({container:document.getElementById("loader"),renderer:"svg",loop:!0,autoplay:!0,path:"/animations/loader.json"});document.getElementById("load-btn").addEventListener("click",async()=>{try{const e=await n.get("https://jsonplaceholder.typicode.com/posts/1");console.log("Дані з API отримано: "+e.data.title)}catch(e){console.error("Помилка при запиті:",e)}});
//# sourceMappingURL=index.js.map
