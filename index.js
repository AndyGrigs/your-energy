import{i as a,a as g}from"./assets/vendor-CG2pNq4b.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function i(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=i(r);fetch(r.href,o)}})();a.settings({timeout:3e3,transitionIn:"flipInX",transitionOut:"flipOutX",iconColor:"#FFF",color:"#FFF",close:!0,position:"topRight",messageColor:"#FFF",messageSize:"16px",progressBar:!0,progressBarEasing:"linear",maxWidth:"432px",message:"Sorry, something went wrong."});const u=window.location.origin.includes("localhost")||window.location.origin.includes("127.0.0.1"),l={success:{iconUrl:u?"./img/success.svg":"/your-energy/img/success.svg",progressBarColor:"#326101",backgroundColor:"#59A10D"},error:{iconUrl:u?"./img/error.svg":"/your-energy/img/error.svg",progressBarColor:"#B51B1B",backgroundColor:"#EF4040"}},d="https://your-energy.b.goit.study/api";g.defaults.baseURL=d;const m=async t=>{const{data:e}=await g.post("/subscription",{email:t});return e},p={400:"Invalid request. Please check the email format.",404:"Endpoint not found. Please try again later.",409:"You are already subscribed.",500:"Something went wrong on the server. Please try again later."},f=async t=>{try{const{message:e}=await m(t);return a.show({...l.success,message:e,timeout:5e3}),e}catch(e){const{status:i}=e,s=p[i]||`Unexpected error (${e.message||"unknown"})`;throw a.show({...l.error,message:s}),{code:i,message:s}}},n=document.querySelector("#subscribe-form");n&&n.addEventListener("submit",async t=>{t.preventDefault();try{const e=n.email.value;await f(e),n.reset()}catch(e){console.log(e)}});
//# sourceMappingURL=index.js.map
