import{i as k,c as $,g as q,a as H,r as M,m as o,s as I,b as F,h as A,d as R,e as U}from"./assets/favorites-BIEATI1K.js";import{a as y,i as C}from"./assets/vendor-XxEN_XWt.js";const z=async e=>{const{data:t}=await y.post("/subscription",{email:e});return t},_=async e=>{try{const{message:t}=await z(e);return C.show({...k.success,message:t,timeout:5e3}),t}catch(t){const{status:r}=t,s=$[r]||`Unexpected error (${t.message||"unknown"})`;throw C.show({...k.error,message:s}),{code:r,message:s}}},D=async e=>{const{data:t}=await y.get("/filters",{params:e});return t},O=async e=>{const{data:t}=await y.get("/exercises",{params:e});return t},j=async e=>{const{data:t}=await y.get(`/exercises/${e}`);return t},P=async e=>{try{return await O(e)}catch(t){const{status:r}=t,s=H[r]||`Unexpected error (${t.message||"unknown"})`;throw{code:r,message:s}}},N=async e=>{try{return await j(e)}catch(t){const{status:r}=t,s=q[r]||`Unexpected error (${t.message||"unknown"})`;throw{code:r,message:s}}},n={filter:"Muscles",category:null,page:1,limit:12,keyword:""},W={"body parts":"bodypart",muscles:"muscles",equipment:"equipment"};function G(e,t){n.category=e,n.filter=t,n.page=1,n.keyword="";const r=document.getElementById("search-input");r&&(r.value="");const s=document.getElementById("current-category");s&&(s.textContent=` / ${Z(e)}`),J()}async function J(){const e=document.getElementById("exercise-cards-container");e.innerHTML="<p>Loading exercises...</p>";try{const t=W[n.filter.toLowerCase()];if(!t){console.warn("❗ Невідомий фільтр:",n.filter);return}const r={[t]:n.category,keyword:n.keyword,page:n.page,limit:n.limit},a=(await P(r)).results;if(!a.length){e.innerHTML="<p>No exercises found.</p>";return}e.innerHTML=a.map(V).join("")}catch(t){e.innerHTML="<p>Error loading exercises.</p>",console.error("❌ Exercise loading error:",t.message)}}function V(e){return`
   <div class="workout-card ex-card">
        <div class="workout-header">
          <span class="workout-badge">WORKOUT</span>
          <button class="start-button" data-exercise-id=${e._id}>Start ➔</button>
        </div>
        <div class="workout-body">
          <span class="workout-icon-running">
            <img
              src="../img/quote_icon_1.svg"
              width="24px"
              height="24px"
              alt="Running Icon"
            />
          </span>        
          <h3 class="workout-name">${e.name}</h3>
          <p class="workout-stats">
            Burned calories: ${e.burnedCalories} / ${e.time} min
            <br>
            Body part: ${e.bodyPart} <br>  Target: ${e.target}
          </p>
        </div>
      </div>
  `}function Z(e){return e.charAt(0).toUpperCase()+e.slice(1)}const c=document.getElementById("exercise-cards-container"),K={muscles:"Muscles","body parts":"Body parts",equipment:"Equipment"};let p=[];function Q(){document.querySelectorAll(".filter-btn").forEach(t=>{t.addEventListener("click",r=>{var a;const s=r.currentTarget.dataset.type.toLowerCase().trim();n.filter=s,n.page=1,n.category=null,n.keyword="",(a=document.querySelector(".filter-btn.active"))==null||a.classList.remove("active"),t.classList.add("active"),x(n.filter)})}),X().then(()=>{var t;n.filter="muscles",(t=document.querySelector('.filter-btn[data-type="Muscles"]'))==null||t.classList.add("active"),x(n.filter)})}async function X(){c.innerHTML="<p>Loading categories...</p>";try{p=(await D({page:1,limit:100})).results;const t=p.map(b).join("");c.innerHTML=t,E()}catch(e){console.error("❌ Категорії не завантажено:",e.message),c.innerHTML="<p>Error loading categories.</p>"}Y()}function x(e){c.innerHTML="<p>Loading filtered categories...</p>";const t=K[e];if(!t){console.warn("❗ Невідомий фільтр:",e),c.innerHTML="<p>No filter selected.</p>";return}const r=p.filter(a=>a.filter.trim().toLowerCase()===t.toLowerCase());if(!r.length){c.innerHTML="<p>No categories found for this filter.</p>";return}const s=r.map(b).join("");c.innerHTML=s,E()}function E(){document.querySelectorAll(".category-card").forEach(e=>{e.addEventListener("click",()=>{var s;const t=e.dataset.name,r=(s=e.dataset.type)==null?void 0:s.toLowerCase().trim();G(t,r)})})}function b(e){return`
    <div class="category-card" 
     data-name="${e.name}" 
     data-type="${e.filter}" 
     data-id="${e.id}">
	 <div class="overlay"></div>
  <div class="category-card-bg" style="background-image: url('${e.imgURL}')">
    <div class="category-card-text">
      <h3 class="category-card-title">${T(e.name)}</h3>
      <p class="category-card-sub">${T(e.filter)}</p>
    </div>
  </div>
</div>

  `}function Y(){const e=document.getElementById("search-input");e&&e.addEventListener("input",t=>{const r=t.target.value.trim().toLowerCase(),s=p.filter(i=>i.name.toLowerCase().startsWith(r));if(!s.length){c.innerHTML="<p>Нічого не знайдено.</p>";return}const a=s.map(b).join("");c.innerHTML=a,E()})}function T(e){return e.charAt(0).toUpperCase()+e.slice(1)}function m(e){return e.charAt(0).toUpperCase()+e.slice(1)}function ee(e){o.modalTitle.textContent=m(e.name),o.modalRatingValue.textContent=e.rating,o.modalImage.src=e.gifUrl,o.modalImage.alt=e.name,o.modalTarget.textContent=m(e.target),o.modalBodyPart.textContent=m(e.bodyPart),o.modalEquipment.textContent=m(e.equipment),o.modalPopular.textContent=e.popularity,o.modalCalories.textContent=`${e.burnedCalories}/${e.time} min`,o.modalDescription.textContent=e.description,o.stars.forEach((i,u)=>{u<Math.floor(e.rating)?i.classList.add("filled"):i.classList.remove("filled")});const t=JSON.parse(localStorage.getItem("favorites")||"[]"),r=t.some(i=>i._id===e._id);console.log("exercise:",e),console.log("favorites:",t),console.log("isInFavorites:",r),r?I():F();const s=()=>A(t,e);o.favoriteButton.addEventListener("click",s),o.closeModalBtn.addEventListener("click",L);const a=i=>{i.target===o.modalExercises?L():i.target===o.modalRating&&f()};window.addEventListener("click",a),o.modalExercises._windowClickHandler=a,o.modalExercises._favoriteClickHandler=s,te(o.modalExercises),o.ratingButton.addEventListener("click",f)}function te(e){e.classList.remove("hidden"),setTimeout(()=>{e.classList.add("show")},10),document.body.style.overflow="hidden"}function f(){o.modalExercises.classList.toggle("hidden"),o.modalExercises.classList.toggle("show"),o.modalRating.classList.toggle("hidden"),o.modalRating.classList.toggle("show")}function L(){o.modalExercises.classList.remove("show"),setTimeout(()=>{o.modalExercises.classList.add("hidden"),document.body.style.overflow=""},300),document.body.style.overflow="",o.closeModalBtn.removeEventListener("click",L),o.favoriteButton.removeEventListener("click",o.modalExercises._favoriteClickHandler),o.ratingButton.removeEventListener("click",f),window.removeEventListener("click",o.modalExercises._windowClickHandler)}M.exercisesContainer.addEventListener("click",async function(e){const t=e.target.closest(".start-button");if(t){const r=t.dataset.exerciseId;if(r)try{const s=await N(r);ee(s)}catch(s){console.error("Error fetching exercise:",s)}}});const l=document.querySelector('[data-modal="rating"]'),d=l==null?void 0:l.querySelector("form"),h=d==null?void 0:d.querySelectorAll('input[name="rating"]'),re=d==null?void 0:d.querySelector(".rating-value"),w=l==null?void 0:l.querySelector("[data-modal-close]");h==null||h.forEach(e=>{e.addEventListener("change",()=>{re.textContent=e.value+".0"})});d==null||d.addEventListener("submit",se);function se(e){var u;e.preventDefault();const t=e.target,r=+((u=t.querySelector('[name="rating"]:checked'))==null?void 0:u.value)||0,s=t.querySelector('[name="email"]').value.trim(),a=t.querySelector('[name="comment"]').value.trim();if(!r||!s||!a){iziToast.error({message:"Будь ласка, заповніть всі поля"});return}if(!/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(s)){iziToast.error({message:"Введіть коректний email"});return}fetch("https://httpbin.org/post",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rating:r,email:s,comment:a})}).then(v=>{if(!v.ok)throw new Error("Не вдалося надіслати оцінку");S(),iziToast.success({message:"Дякуємо за вашу оцінку!"})}).catch(v=>{iziToast.error({message:v.message})})}w==null||w.addEventListener("click",S);function S(){l==null||l.classList.add("hidden"),f()}const oe="your-energy",ne="1.0.0",ae="module",ie={dev:"vite",build:"vite build --base=/your-energy/",preview:"vite preview"},ce={glob:"^11.0.0",postcss:"^8.4.41","postcss-sort-media-queries":"^5.2.0",vite:"^5.4.6"},le="Andriy <andygrigs88@gmail.com>",de="ISC",ue="/your-energy",me={axios:"^1.8.4",izitoast:"^1.4.0","lottie-web":"^5.12.2","vite-plugin-full-reload":"^1.2.0","vite-plugin-html-inject":"^1.1.2"},ge={name:oe,private:!0,version:ne,type:ae,scripts:ie,devDependencies:ce,author:le,license:de,homepage:ue,dependencies:me};document.addEventListener("DOMContentLoaded",()=>{Q()});window.addEventListener("scroll",R);M.scrollToTopBtn.addEventListener("click",U);const g=document.querySelector("#subscribe-form");g&&g.addEventListener("submit",async e=>{e.preventDefault();try{const t=g.email.value;await _(t),g.reset()}catch(t){console.log(t)}});const B=`${window.location.origin}${ge.homepage}`,pe=document.querySelectorAll('a[href^="/"]');B&&pe.forEach(e=>{const t=e.getAttribute("href"),r=`${B}${t}`;e.href=new URL(r)});
//# sourceMappingURL=index.js.map
