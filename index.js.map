{"version":3,"file":"index.js","sources":["../src/js/config/izi-toast.js","../src/js/constants/izi-toast.js","../src/js/services/api/subscriptions-api.js","../src/js/services/subscriptions.js","../src/js/services/scroll.js","../src/js/partials/rating-modal.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\n\niziToast.settings({\n  timeout: 3000,\n  transitionIn: 'flipInX',\n  transitionOut: 'flipOutX',\n\n  iconColor: '#FFF',\n  color: '#FFF',\n\n  close: true,\n  position: 'topRight',\n\n  messageColor: '#FFF',\n  messageSize: '16px',\n\n  progressBar: true,\n\n  progressBarEasing: 'linear',\n\n  maxWidth: '432px',\n  message: 'Sorry, something went wrong.',\n});\n\nexport { iziToast };\n","const isLocalhost =\n  window.location.origin.includes('localhost') ||\n  window.location.origin.includes('127.0.0.1');\n\nexport const iziToastOptions = {\n  success: {\n    iconUrl: isLocalhost ? './img/success.svg' : '/your-energy/img/success.svg',\n\n    progressBarColor: '#326101',\n    backgroundColor: '#59A10D',\n  },\n  error: {\n    iconUrl: isLocalhost ? './img/error.svg' : '/your-energy/img/error.svg',\n\n    progressBarColor: '#B51B1B',\n    backgroundColor: '#EF4040',\n  },\n};\n","import axios from '../../config/axios';\n\nexport const createSubscription = async email => {\n  const { data } = await axios.post('/subscription', { email });\n\n  return data;\n};\n","import { iziToast } from '../config/izi-toast.js';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { iziToastOptions } from '../constants/izi-toast.js';\n\nimport * as api from './api/subscriptions-api.js';\nimport * as errorMessages from '../constants/error-messages.js';\n\nexport const handleSubscription = async email => {\n  try {\n    const { message } = await api.createSubscription(email);\n    iziToast.show({\n      ...iziToastOptions.success,\n      message,\n      timeout: 5000,\n    });\n\n    return message;\n  } catch (error) {\n    const { status } = error;\n    const message =\n      errorMessages.createSubscriptionErrs[status] ||\n      `Unexpected error (${error.message || 'unknown'})`;\n\n    iziToast.show({\n      ...iziToastOptions.error,\n      message,\n    });\n\n    throw {\n      code: status,\n      message: message,\n    };\n  }\n};\n","import { refs } from '../constants/refs';\n\nexport function handleScrollForScrollTopBtn() {\n  const scrollThreshold = window.innerHeight / 4;\n\n  if (window.scrollY > scrollThreshold) {\n    refs.scrollToTopBtn.classList.remove('invisible');\n  } else {\n    refs.scrollToTopBtn.classList.add('invisible');\n  }\n}\n\nexport function scrollToTop() {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n}\n","// rating-modal.js\n\n// Отримуємо DOM-елементи\nconst modal = document.querySelector('[data-modal=\"rating\"]');\nconst form = modal?.querySelector('form');\nconst ratingInputs = form?.querySelectorAll('input[name=\"rating\"]');\nconst ratingValue = form?.querySelector('.rating-value');\nconst closeBtn = modal?.querySelector('[data-modal-close]');\n\n// Динамічне оновлення числа біля зірочок\nratingInputs?.forEach(input => {\n  input.addEventListener('change', () => {\n    ratingValue.textContent = input.value + '.0';\n  });\n});\n\n// Обробка сабміту форми\nform?.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n\n  const form = event.target;\n  const rating = +form.querySelector('[name=\"rating\"]:checked')?.value || 0;\n  const email = form.querySelector('[name=\"email\"]').value.trim();\n  const comment = form.querySelector('[name=\"comment\"]').value.trim();\n\n  // Перевірка заповнення\n  if (!rating || !email || !comment) {\n    iziToast.error({ message: 'Будь ласка, заповніть всі поля' });\n    return;\n  }\n\n  // Email валідація\n  const emailRegex = /^\\w+(\\.\\w+)?@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;\n  if (!emailRegex.test(email)) {\n    iziToast.error({ message: 'Введіть коректний email' });\n    return;\n  }\n\n  // Надсилаємо запит на backend\n  fetch('https://httpbin.org/post', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ rating, email, comment }),\n  })\n    .then(res => {\n      if (!res.ok) throw new Error('Не вдалося надіслати оцінку');\n      closeRatingModal();\n      iziToast.success({ message: 'Дякуємо за вашу оцінку!' });\n    })\n    .catch(err => {\n      iziToast.error({ message: err.message });\n    });\n}\n\n// Закриття модалки\ncloseBtn?.addEventListener('click', closeRatingModal);\n\nfunction closeRatingModal() {\n  modal?.classList.add('hidden');\n}\n","import { handleSubscription } from './js/services/subscriptions';\nimport { refs } from './js/constants/refs';\nimport { handleScrollForScrollTopBtn, scrollToTop } from './js/services/scroll';\nimport lottie from 'lottie-web';\nimport './js/partials/rating-modal.js';\n\nconst burger = document.getElementById('burger');\nconst mobileMenu = document.getElementById('mobileMenu');\nconst closeMenu = document.getElementById('closeMenu');\n\nburger.addEventListener('click', () => {\n  mobileMenu.classList.add('active');\n});\n\ncloseMenu.addEventListener('click', () => {\n  mobileMenu.classList.remove('active');\n});\n\nwindow.addEventListener('scroll', handleScrollForScrollTopBtn);\nrefs.scrollToTopBtn.addEventListener('click', scrollToTop);\n\nconst subscribeForm = document.querySelector('#subscribe-form');\nif (subscribeForm) {\n  subscribeForm.addEventListener('submit', async event => {\n    event.preventDefault();\n    try {\n      const email = subscribeForm.email.value;\n      await handleSubscription(email);\n      subscribeForm.reset();\n    } catch (error) {\n      console.log(error);\n    }\n  });\n}\n\n//лише для тесту ПРИКЛАД ВИКОРИСТАННЯ Loader\n// import { Loader } from './js/services/loader.js';\n\n// const redLoader = new Loader({\n//   target: '#red-loader',\n//   size: 50,\n//   color: 'red',\n// });\n\n// document.getElementById('red-btn').addEventListener('click', async () => {\n//   redLoader.show();\n//   await new Promise(res => setTimeout(res, 3000));\n//   redLoader.hide();\n// });\n\n// const blueLoader = new Loader({\n//   target: '#blue-loader',\n//   size: 75,\n//   color: 'blue',\n// });\n\n// document.getElementById('blue-btn').addEventListener('click', async () => {\n//   blueLoader.show();\n//   await new Promise(res => setTimeout(res, 3000));\n//   blueLoader.hide();\n// });\n\n// const blackLoader = new Loader({\n//   target: '#black-loader',\n//   size: 100,\n//   color: 'black',\n// });\n\n// document.getElementById('black-btn').addEventListener('click', async () => {\n//   blackLoader.show();\n//   await new Promise(res => setTimeout(res, 3000));\n//   blackLoader.hide();\n// });\n"],"names":["iziToast","isLocalhost","iziToastOptions","createSubscription","email","data","axios","handleSubscription","message","api.createSubscription","error","status","errorMessages.createSubscriptionErrs","handleScrollForScrollTopBtn","scrollThreshold","refs","scrollToTop","modal","form","ratingInputs","ratingValue","closeBtn","input","handleSubmit","event","rating","_a","comment","res","closeRatingModal","err","burger","mobileMenu","closeMenu","subscribeForm"],"mappings":"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"}