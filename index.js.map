{"version":3,"file":"index.js","sources":["../src/js/config/izi-toast.js","../src/js/constants/izi-toast.js","../src/js/config/api.js","../src/js/config/axios.js","../src/js/services/api/subscriptions-api.js","../src/js/constants/error-messages.js","../src/js/services/subscriptions.js","../src/js/constants/refs.js","../src/js/services/scroll.js","../src/js/services/axios-loader.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\n\niziToast.settings({\n  timeout: 3000,\n  transitionIn: 'flipInX',\n  transitionOut: 'flipOutX',\n\n  iconColor: '#FFF',\n  color: '#FFF',\n\n  close: true,\n  position: 'topRight',\n\n  messageColor: '#FFF',\n  messageSize: '16px',\n\n  progressBar: true,\n\n  progressBarEasing: 'linear',\n\n  maxWidth: '432px',\n  message: 'Sorry, something went wrong.',\n});\n\nexport { iziToast };\n","const isLocalhost =\n  window.location.origin.includes('localhost') ||\n  window.location.origin.includes('127.0.0.1');\n\nexport const iziToastOptions = {\n  success: {\n    iconUrl: isLocalhost ? './img/success.svg' : '/your-energy/img/success.svg',\n\n    progressBarColor: '#326101',\n    backgroundColor: '#59A10D',\n  },\n  error: {\n    iconUrl: isLocalhost ? './img/error.svg' : '/your-energy/img/error.svg',\n\n    progressBarColor: '#B51B1B',\n    backgroundColor: '#EF4040',\n  },\n};\n","export const API_URL = 'https://your-energy.b.goit.study/api';\n","import axios from 'axios';\nimport { API_URL } from './api';\n\naxios.defaults.baseURL = API_URL;\n\nexport default axios;\n","import axios from '../../config/axios';\n\nexport const createSubscription = async email => {\n  const { data } = await axios.post('/subscription', { email });\n\n  return data;\n};\n","export const getExercisesByFiltersErrs = {\n  404: 'Exercises not found for the given filters.',\n  409: 'Filters are required to perform the search.',\n  500: 'Something went wrong while fetching exercises. Please try again later.',\n};\n\nexport const updateExerciseRatingErrs = {\n  400: 'Invalid request. Please check the body.',\n  404: 'Exercise not found. Please ensure the exercise ID is correct.',\n  409: 'Rating update conflict. The rating already exists with this email.',\n  500: 'Something went wrong while updating the rating. Please try again later.',\n};\n\nexport const getExerciseByIdErrs = {\n  400: 'Invalid request. Please check the exercise ID format.',\n  404: 'Exercise not found with the provided ID.',\n  500: 'Something went wrong while fetching the exercise. Please try again later.',\n};\n\nexport const getFiltersErrs = {\n  404: 'Filters not found. Please check the filters configuration.',\n  500: 'Something went wrong while fetching filters. Please try again later.',\n};\n\nexport const getQuoteOfTheDayErrs = {\n  404: 'Quote not found.',\n  500: 'Something went wrong while fetching the quote. Please try again later.',\n};\n\nexport const createSubscriptionErrs = {\n  400: 'Invalid request. Please check the email format.',\n  404: 'Endpoint not found. Please try again later.',\n  409: 'You are already subscribed.',\n  500: 'Something went wrong on the server. Please try again later.',\n};\n","import { iziToast } from '../config/izi-toast.js';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { iziToastOptions } from '../constants/izi-toast.js';\n\nimport * as api from './api/subscriptions-api.js';\nimport * as errorMessages from '../constants/error-messages.js';\n\nexport const handleSubscription = async email => {\n  try {\n    const { message } = await api.createSubscription(email);\n    iziToast.show({\n      ...iziToastOptions.success,\n      message,\n      timeout: 5000,\n    });\n\n    return message;\n  } catch (error) {\n    const { status } = error;\n    const message =\n      errorMessages.createSubscriptionErrs[status] ||\n      `Unexpected error (${error.message || 'unknown'})`;\n\n    iziToast.show({\n      ...iziToastOptions.error,\n      message,\n    });\n\n    throw {\n      code: status,\n      message: message,\n    };\n  }\n};\n","export const refs = {\n  scrollToTopBtn: document.querySelector('.js-scroll-to-top-btn'),\n};\n","import { refs } from '../constants/refs';\n\nexport function handleScrollForScrollTopBtn() {\n  const scrollThreshold = window.innerHeight / 4;\n\n  if (window.scrollY > scrollThreshold) {\n    refs.scrollToTopBtn.classList.remove('invisible');\n  } else {\n    refs.scrollToTopBtn.classList.add('invisible');\n  }\n}\n\nexport function scrollToTop() {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n}\n","import axios from 'axios';\n\nfunction showLoader() {\n  const el = document.getElementById('loader-overlay');\n  if (el) el.style.display = 'flex';\n}\n\nfunction hideLoader() {\n  const el = document.getElementById('loader-overlay');\n  if (el) el.style.display = 'none';\n}\n\n// Затримка перед хованням лоадера\nfunction delay(ms) {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n\n// Request interceptor — показуємо лоадер\naxios.interceptors.request.use(\n  config => {\n    showLoader();\n    return config;\n  },\n  error => {\n    hideLoader();\n    return Promise.reject(error);\n  }\n);\n\n// Response interceptor — чекаємо, потім ховаємо\naxios.interceptors.response.use(\n  async response => {\n    await delay(1000); // ← тут затримка (в мс)\n    hideLoader();\n    return response;\n  },\n  async error => {\n    await delay(1000); // ← і в разі помилки теж\n    hideLoader();\n    return Promise.reject(error);\n  }\n);\n\nexport default axios;\n","import { handleSubscription } from './js/services/subscriptions';\nimport { refs } from './js/constants/refs';\nimport { handleScrollForScrollTopBtn, scrollToTop } from './js/services/scroll';\nimport lottie from 'lottie-web';\n\nwindow.addEventListener('scroll', handleScrollForScrollTopBtn);\nrefs.scrollToTopBtn.addEventListener('click', scrollToTop);\n\nconst subscribeForm = document.querySelector('#subscribe-form');\nif (subscribeForm) {\n  subscribeForm.addEventListener('submit', async event => {\n    event.preventDefault();\n    try {\n      const email = subscribeForm.email.value;\n      await handleSubscription(email);\n      subscribeForm.reset();\n    } catch (error) {\n      console.log(error);\n    }\n  });\n}\n\n// ініціалізація loader\nlottie.loadAnimation({\n  container: document.getElementById('loader'),\n  renderer: 'svg',\n  loop: true,\n  autoplay: true,\n  path: '/animations/loader.json',\n});\n\n//лише для тесту\nimport axios from './js/services/axios-loader.js';\ndocument.getElementById('load-btn').addEventListener('click', async () => {\n  try {\n    const response = await axios.get(\n      'https://jsonplaceholder.typicode.com/posts/1'\n    );\n\n    console.log('Дані з API отримано: ' + response.data.title);\n  } catch (err) {\n    console.error('Помилка при запиті:', err);\n  }\n});\n"],"names":["iziToast","isLocalhost","iziToastOptions","API_URL","axios","createSubscription","email","data","createSubscriptionErrs","handleSubscription","message","api.createSubscription","error","status","errorMessages.createSubscriptionErrs","refs","handleScrollForScrollTopBtn","scrollThreshold","scrollToTop","showLoader","el","hideLoader","delay","ms","resolve","config","response","subscribeForm","event","lottie","err"],"mappings":"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"}