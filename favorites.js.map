{"version":3,"file":"favorites.js","sources":["../src/js/services/api/quotes-api.js","../src/js/utils/getTodayDate.js","../src/js/services/quotes.js","../src/js/sharedComponents/quoteOfTheDay.js","../src/js/sharedComponents/exercisesCards.js","../src/js/services/api/exercises-api.js","../src/js/services/exercises.js","../src/js/services/favorites.js"],"sourcesContent":["import axios from '../../config/axios';\n\nexport const getQuoteOfTheDay = async () => {\n  const { data } = await axios.get('/quote');\n  return data;\n};\n","export const getTodayDate = () => {\n  return new Date().toISOString().split('T')[0];\n};\n","import * as api from './api/quotes-api';\nimport * as errorMessages from '../constants/error-messages';\nimport { getTodayDate } from '../utils/getTodayDate';\n\nexport const handleGetQuoteOfTheDay = async () => {\n  try {\n    const quote = await api.getQuoteOfTheDay();\n    const today = getTodayDate();\n\n    const quoteWithDate = {\n      ...quote,\n      date: today,\n    };\n\n    localStorage.setItem('quoteOfTheDay', JSON.stringify(quoteWithDate));\n\n    return quoteWithDate;\n  } catch (error) {\n    const { status } = error;\n    const message =\n      errorMessages.getExercisesByFiltersErrs[status] ||\n      `Unexpected error (${error.message || 'unknown'})`;\n\n    throw {\n      code: status,\n      message: message,\n    };\n  }\n};\n","import { handleGetQuoteOfTheDay } from '../services/quotes.js';\n\nexport async function renderQuoteOfTheDay(quoteText, quoteAuthor) {\n  try {\n    // add logic to retrive data by key \"quoteOfTheDay\" from LocalStorage\n    // check if date is present if yes render if not than proceed with a request\n    const data = await handleGetQuoteOfTheDay();\n\n    const authorName = data.author;\n    const authorQuote = data.quote;\n    quoteText.textContent = authorQuote;\n    quoteAuthor.textContent = authorName;\n    console.log(quoteText);\n  } catch (error) {\n    console.log('ðŸš€ ~ error in getQuoteOfTheDay data rendering:', error);\n  }\n}\n","export function preparingCardsMarkup(listElement, items, BtnVisible = true) {\n  if (!items || items.length === 0) {\n    listElement.innerHTML = '';\n    return;\n  }\n\n  const FavoritesMarkup = items\n    .map(\n      item => `\n    <li class=\"workout-list-item\">\n      <div class=\"workout-card\">\n        <div class=\"workout-header\">\n          <span class=\"workout-badge\">WORKOUT</span>\n          ${\n            BtnVisible\n              ? `\n            <button class=\"delete-button\" aria-label=\"Delete workout\">\n              <img src=\"../img/trash-icon.svg\" alt=\"Delete\" width=\"16\" height=\"16\">\n            </button>\n          `\n              : ''\n          }\n          <button class=\"start-button\">Start âž”</button>\n        </div>\n        <div class=\"workout-body\">\n          <span class=\"workout-icon-running\">\n            <img\n              src=\"../img/quote_icon_1.svg\"\n              width=\"24px\"\n              height=\"24px\"\n              alt=\"Running Icon\"\n            />\n          </span>        \n          <h3 class=\"workout-name\">${item.name}</h3>\n          <p class=\"workout-stats\">\n            Burned calories: ${item.burnedCalories} / ${item.time} min\n            <br>\n            Body part: ${item.bodyPart} <br>  Target: ${item.target}\n          </p>\n        </div>\n      </div>\n    </li>\n    `\n    )\n    .join('');\n\n  listElement.innerHTML = FavoritesMarkup;\n}\n","import axios from '../../config/axios';\n\nexport const getExercisesByFilters = async params => {\n  const { data } = await axios.get('/exercises', { params });\n  return data;\n};\n\nexport const updateExerciseRating = async (id, body) => {\n  const { data } = await axios.patch(`/exercises/${id}/rating`, { ...body });\n  return data;\n};\n\nexport const getExerciseById = async id => {\n  const { data } = await axios.get(`/exercises/${id}`);\n  return data;\n};\n","import { iziToast } from '../config/izi-toast.js';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { iziToastOptions } from '../constants/izi-toast.js';\n\nimport * as api from './api/exercises-api.js';\nimport * as errorMessages from '../constants/error-messages.js';\n\nexport const handleGetExercisesByFilters = async query => {\n  try {\n    const exercises = await api.getExercisesByFilters(query);\n    return exercises;\n  } catch (error) {\n    const { status } = error;\n    const message =\n      errorMessages.getExercisesByFiltersErrs[status] ||\n      `Unexpected error (${error.message || 'unknown'})`;\n\n    throw {\n      code: status,\n      message: message,\n    };\n  }\n};\n\nexport const handleUpdateExerciseRating = async (id, body) => {\n  try {\n    const response = await api.updateExerciseRating(id, body);\n    return response;\n  } catch (error) {\n    const { status } = error;\n    const message =\n      errorMessages.updateExerciseRatingErrs[status] ||\n      `Unexpected error (${error.message || 'unknown'})`;\n\n    iziToast.show({\n      ...iziToastOptions.error,\n      message,\n    });\n\n    throw {\n      code: status,\n      message: message,\n    };\n  }\n};\n\nexport const handleGetExerciseById = async id => {\n  try {\n    const exercise = await api.getExerciseById(id);\n    return exercise;\n  } catch (error) {\n    const { status } = error;\n    const message =\n      errorMessages.getExerciseByIdErrs[status] ||\n      `Unexpected error (${error.message || 'unknown'})`;\n\n    throw {\n      code: status,\n      message: message,\n    };\n  }\n};\n","import { renderQuoteOfTheDay } from '../sharedComponents/quoteOfTheDay.js';\nimport { preparingCardsMarkup } from '../sharedComponents/exercisesCards.js';\nimport { handleGetExerciseById } from '../services/exercises.js';\n\nconst quoteText = document.querySelector('.quote-day-card-text');\nconst quoteAuthor = document.querySelector('.quote-day-card-author');\nconst workuotList = document.querySelector('.workout-list');\n\nasync function renderFavoritesItems() {\n  try {\n    let favoritesItems = [];\n    const favoritesListJson = localStorage.getItem('favorites');\n    const favoritesList = JSON.parse(favoritesListJson);\n\n    for (const id of favoritesList) {\n      const data = await handleGetExerciseById(id);\n      favoritesItems.push(data);\n    }\n\n    preparingCardsMarkup(workuotList, favoritesItems);\n  } catch (error) {\n    console.log('ðŸš€ ~ error in getFavoritesItems data rendering:', error);\n  }\n}\n\nrenderQuoteOfTheDay(quoteText, quoteAuthor);\n\nconst mocked_data_id_1 = '64f389465ae26083f39b17a2';\nconst mocked_data_id_2 = '64f389465ae26083f39b17a7';\nconst mocked_data_id_3 = '64f389465ae26083f39b17a4';\nconst mocked_data_id_4 = '64f389465ae26083f39b17a5';\nconst mocked_items_list = [\n  mocked_data_id_1,\n  mocked_data_id_2,\n  mocked_data_id_3,\n  mocked_data_id_4,\n];\nconst mocked_items_json = JSON.stringify(mocked_items_list);\nlocalStorage.setItem('favorites', mocked_items_json);\n\nrenderFavoritesItems();\n"],"names":["getQuoteOfTheDay","data","axios","getTodayDate","handleGetQuoteOfTheDay","quote","api.getQuoteOfTheDay","today","quoteWithDate","error","status","message","errorMessages.getExercisesByFiltersErrs","renderQuoteOfTheDay","quoteText","quoteAuthor","authorName","authorQuote","preparingCardsMarkup","listElement","items","BtnVisible","FavoritesMarkup","item","getExerciseById","id","handleGetExerciseById","api.getExerciseById","errorMessages.getExerciseByIdErrs","workuotList","renderFavoritesItems","favoritesItems","favoritesListJson","favoritesList","mocked_data_id_1","mocked_data_id_2","mocked_data_id_3","mocked_data_id_4","mocked_items_list","mocked_items_json"],"mappings":"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"}