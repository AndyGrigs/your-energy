const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-Cte-_2za.js","assets/vendor-DnveWo0P.css"])))=>i.map(i=>d[i]);
import{i as f,a as y}from"./vendor-Cte-_2za.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();f.settings({timeout:3e3,transitionIn:"flipInX",transitionOut:"flipOutX",iconColor:"#FFF",color:"#FFF",close:!0,position:"topRight",messageColor:"#FFF",messageSize:"16px",progressBar:!0,progressBarEasing:"linear",maxWidth:"432px",message:"Sorry, something went wrong."});const M=window.location.origin.includes("localhost")||window.location.origin.includes("127.0.0.1"),P={success:{iconUrl:M?"./img/success.svg":"/your-energy/img/success.svg",progressBarColor:"#326101",backgroundColor:"#59A10D"},error:{iconUrl:M?"./img/error.svg":"/your-energy/img/error.svg",progressBarColor:"#B51B1B",backgroundColor:"#EF4040"}},te="https://your-energy.b.goit.study/api";y.defaults.baseURL=te;const oe=async e=>{const{data:t}=await y.post("/subscription",{email:e});return t},J={404:"Exercises not found for the given filters.",409:"Filters are required to perform the search.",500:"Something went wrong while fetching exercises. Please try again later."},ne={400:"Invalid request. Please check the exercise ID format.",404:"Exercise not found with the provided ID.",500:"Something went wrong while fetching the exercise. Please try again later."},re={400:"Invalid request. Please check the email format.",404:"Endpoint not found. Please try again later.",409:"You are already subscribed.",500:"Something went wrong on the server. Please try again later."},se=async e=>{try{const{message:t}=await oe(e);return f.show({...P.success,message:t,timeout:5e3}),t}catch(t){const{status:o}=t,r=re[o]||`Unexpected error (${t.message||"unknown"})`;throw f.show({...P.error,message:r}),{code:o,message:r}}},b={scrollToTopBtn:document.querySelector(".js-scroll-to-top-btn"),exercisesContainer:document.getElementById("exercise-cards-container")},a={modalExercises:document.getElementById("exerciseModal"),modalRating:document.getElementById("ratingModal"),modalTitle:document.getElementById("modalTitle"),modalRatingValue:document.getElementById("modalRating"),modalImage:document.getElementById("modalImage"),modalTarget:document.getElementById("modalTarget"),modalBodyPart:document.getElementById("modalBodyPart"),modalEquipment:document.getElementById("modalEquipment"),modalPopular:document.getElementById("modalPopular"),modalCalories:document.getElementById("modalCalories"),modalDescription:document.getElementById("modalDescription"),stars:document.querySelectorAll(".star"),favoriteButton:document.getElementById("favoriteButton"),ratingButton:document.getElementById("ratingButton"),closeModalBtn:document.getElementById("closeModalBtn")},m={burgerButton:document.querySelector(".js-burger-button"),mobileMenu:document.querySelector(".mobile-menu-js"),backdrop:document.querySelector(".mobile-backdrop-js"),closeButton:document.querySelector(".mobile-menu-close-js"),navLinks:document.querySelectorAll(".nav-links.mobile-menu .nav-link")};document.getElementById("pagination");function O(){const e=window.innerHeight/4;window.scrollY>e?b.scrollToTopBtn.classList.remove("invisible"):b.scrollToTopBtn.classList.add("invisible")}function A(){window.scrollTo({top:0,behavior:"smooth"})}const ae=()=>{const e=document.querySelectorAll(".nav-link"),t=window.location.pathname,o=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1";console.log("---------------------------------------"),console.log("🚀 ~ isLocalhost:",o),e.forEach(r=>{const n=o?r.getAttribute("href"):`/your-energy${r.getAttribute("href")}`;console.log("---"),console.log("🚀 ~ linkHref:",n),console.log("🚀 ~ currentPath:",t),n===t?(console.log(`${n} is active`),r.classList.add("active")):(r.classList.remove("active"),console.log(`${n} is not active`)),console.log("---")})},ie=()=>{document.body.style.overflow="hidden"},ce=()=>{document.body.style.overflow=""},le=()=>{m.backdrop.style.visibility="visible",m.backdrop.style.opacity=1,m.mobileMenu.style.transform="translateX(0%)",ie()},de=e=>{e.target===m.backdrop&&x()},ue=e=>{e.key==="Escape"&&m.mobileMenu.style.transform==="translateX(0%)"&&x()},me=()=>{x()},x=()=>{m.mobileMenu.style.transform="translateX(100%)",setTimeout(()=>{m.backdrop.style.opacity=0,m.backdrop.style.visibility="hidden",ce()},300)},ge=async e=>{const{data:t}=await y.get("/filters",{params:e});return t},c={filter:"Muscles",category:null,page:1,limit:12,keyword:"",allCategories:[]};function pe(e){return e.charAt(0).toUpperCase()+e.slice(1)}function V(e){return`
   <div class="workout-card ex-card">
        <div class="workout-header">
          <span class="workout-badge">WORKOUT</span>
          <div class="rating-block">
             <span class="workout-badge-rating">${e.rating}</span>
            <svg class="star-icon" width="14" height="13" style="width:16px">
              <use href="/img/sprite.svg#star"></use>
            </svg>
          </div>
            
          <button class="start-button" data-exercise-id=${e._id}>Start ➔</button>
        </div>
        <div class="workout-body">
          <span class="workout-icon-running">
            <img
              src="./img/quote_icon_1.svg"
              width="24px"
              height="24px"
              alt="Running Icon"
            />
          </span>        
          <h3 class="workout-name">${pe(e.name)}</h3>
          <p class="workout-stats">
          <span>Burned calories: <b>${e.burnedCalories}/${e.time} min</b></span> 
          <span> Body part: <b>${e.bodyPart}</b></span>
          <span>Target: <b>${e.target}</b></span> 
          </p>
        </div>
      </div>
  `}function fe(){const e=document.getElementById("search-input"),t=document.getElementById("exercise-cards-container");e.addEventListener("input",o=>{const r=o.target.value.trim().toLowerCase(),n=c.exercises.filter(s=>s.name.toLowerCase().includes(r));if(!n.length){t.innerHTML="<p>No matching exercises found.</p>";return}t.innerHTML=n.map(V).join("")})}function W(e){const t=document.querySelector(".search");t&&(t.style.display=e?"block":"none")}const he=async e=>{const{data:t}=await y.get("/exercises",{params:e});return t},ye=async e=>{const{data:t}=await y.get(`/exercises/${e}`);return t},ve=async e=>{try{return await he(e)}catch(t){const{status:o}=t,r=J[o]||`Unexpected error (${t.message||"unknown"})`;throw{code:o,message:r}}},we=async e=>{try{return await ye(e)}catch(t){const{status:o}=t,r=ne[o]||`Unexpected error (${t.message||"unknown"})`;throw{code:o,message:r}}},be="modulepreload",Ee=function(e){return"/your-energy/"+e},D={},Le=function(t,o,r){let n=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));n=Promise.allSettled(o.map(u=>{if(u=Ee(u),u in D)return;D[u]=!0;const w=u.endsWith(".css"),h=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const d=document.createElement("link");if(d.rel=w?"stylesheet":be,w||(d.as="script"),d.crossOrigin="",d.href=u,l&&d.setAttribute("nonce",l),document.head.appendChild(d),w)return new Promise((_,E)=>{d.addEventListener("load",_),d.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return n.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};class v{constructor({path:t="/animations/loader.json",size:o=200,color:r,timeout:n=1e3}={}){this._path=t,this._defaultSize=o,this._defaultColor=r??getComputedStyle(document.documentElement).getPropertyValue("--text-color").trim(),this._defaultTimeout=n??null,this._loadPromise=null,this._instances=new Map}async _loadLottie(){return this._loadPromise||(this._loadPromise=Le(()=>import("./vendor-Cte-_2za.js").then(t=>t.l),__vite__mapDeps([0,1])).then(t=>t.default)),this._loadPromise}_resolveTarget(t){return typeof t=="string"?document.getElementById(t):t}async show(t,{size:o,color:r,timeout:n}={}){const s=this._resolveTarget(t);if(!s)throw new Error("Target not found");if(this._instances.has(s))return;const i=o??this._defaultSize,l=r??this._defaultColor,u=n??this._defaultTimeout;getComputedStyle(s).position==="static"&&(s.style.position="relative");const h=document.createElement("div");h.style.cssText=`
			width: ${i}px;
			height: ${i}px;
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			pointer-events: none;
			z-index: 10;
		`;const d=document.createElement("div");d.style.cssText="width: 100%; height: 100%;",h.appendChild(d),s.appendChild(h);const E=(await this._loadLottie()).loadAnimation({container:d,renderer:"svg",loop:!0,autoplay:!0,path:this._path});E.addEventListener("DOMLoaded",()=>{d.querySelectorAll("path").forEach(ee=>ee.setAttribute("fill",l))}),this._instances.set(s,{wrapper:h,animation:E,timeout:u}),u&&await new Promise($=>setTimeout($,u))}async hide(t){const o=this._resolveTarget(t);if(!o||!this._instances.has(o))return;const{wrapper:r,animation:n,timeout:s}=this._instances.get(o);n.destroy(),r.remove(),this._instances.delete(o)}}const B=document.getElementById("exercise-cards-container"),F=new v({size:200,color:"#f4f4f4"});async function ke(e){try{await F.show(e);const o={"body parts":"bodypart",muscles:"muscles",equipment:"equipment"}[c.filter.toLowerCase()];if(!o){console.warn("❗ Невідомий фільтр:",c.filter);return}const r={[o]:c.category,keyword:c.keyword,page:c.page,limit:c.limit},s=(await ve(r)).results;if(c.exercises=s,!s.length){B.innerHTML="<p>No exercises found.</p>";return}B.innerHTML=s.map(V).join(""),fe()}catch(t){B.innerHTML="<p>Error loading exercises.</p>",console.error("❌ Exercise loading error:",t.message)}finally{await F.hide(e)}}const Ce={muscles:"Muscles","body parts":"Body parts",equipment:"Equipment"};new v({size:200,color:"#f4f4f4"});function xe(e,t,o){W(!0),c.category=e,c.filter=t,c.page=1,c.keyword="";const r=document.getElementById("search-input");r&&(r.value="");const n=document.getElementById("current-category-name");n&&(n.textContent=` / ${I(e)}`),ke(o)}function R(e){const t=document.getElementById("exercise-cards-container"),o=document.getElementById("current-category-name");o&&(o.textContent=""),t.innerHTML="<p>Loading filtered categories...</p>";const r=Ce[e];if(!r){console.warn("❗ Невідомий фільтр:",e),t.innerHTML="<p>No filter selected.</p>";return}const n=c.allCategories.filter(i=>i.filter.trim().toLowerCase()===r.toLowerCase());if(!n.length){t.innerHTML="<p>No categories found for this filter.</p>";return}const s=n.map(X).join("");t.innerHTML=s,W(!1),Q()}function Q(){document.querySelectorAll(".category-card").forEach(e=>{e.addEventListener("click",()=>{var r;const t=e.dataset.name,o=(r=e.dataset.type)==null?void 0:r.toLowerCase().trim();xe(t,o,e)})})}function X(e){return`
    <div class="category-card" 
     data-name="${e.name}" 
     data-type="${e.filter}" 
     data-id="${e.id}">
	 <div class="overlay"></div>
  <div class="category-card-bg" style="background-image: url('${e.imgURL}')">
    <div class="category-card-text">
      <h3 class="category-card-title">${I(e.name)}</h3>
      <p class="category-card-sub">${I(e.filter)}</p>
    </div>
  </div>
</div>

  `}function I(e){return e.charAt(0).toUpperCase()+e.slice(1)}const L=document.getElementById("exercise-cards-container"),H=new v({size:200});async function Be(){document.querySelectorAll(".filter-btn").forEach(t=>{t.addEventListener("click",o=>{var n;const r=o.currentTarget.dataset.type.toLowerCase().trim();c.filter=r,c.page=1,c.category=null,c.keyword="",(n=document.querySelector(".filter-btn.active"))==null||n.classList.remove("active"),t.classList.add("active"),R(c.filter)})}),await Te().then(()=>{var t;c.filter="muscles",(t=document.querySelector('.filter-btn[data-type="Muscles"]'))==null||t.classList.add("active"),R(c.filter)})}async function Te(){try{await H.show(L.id);const e=await ge({page:1,limit:10});c.allCategories=e.results;const t=c.allCategories.map(X).join("");L.innerHTML=t,Q()}catch(e){console.error("❌ Категорії не завантажено:",e.message),L.innerHTML="<p>Error loading categories.</p>"}finally{await H.hide(L.id)}}function Se(e,t,o=!0){if(!t||t.length===0){e.innerHTML="";return}const r=t.map(n=>`
    <li class="workout-list-item">
      <div class="workout-card">
        <div class="workout-header">
          <span class="workout-badge">WORKOUT</span>
          ${o?`
            <button class="delete-button" aria-label="Delete workout">
              <img src="../img/trash-icon.svg" alt="Delete" width="16" height="16">
            </button>
          `:""}
          <button class="start-button" data-exercise-id=${n._id}>Start ➔</button>
        </div>
        <div class="workout-body">
          <span class="workout-icon-running">
            <img
              src="../img/quote_icon_1.svg"
              width="24px"
              height="24px"
              alt="Running Icon"
            />
          </span>        
          <h3 class="workout-name">${n.name}</h3>
          <p class="workout-stats">
            Burned calories: ${n.burnedCalories} / ${n.time} min
            <br>
            Body part: ${n.bodyPart} <br>  Target: ${n.target}
          </p>
        </div>
      </div>
    </li>
    `).join("");e.innerHTML=r}const Ie=document.querySelector(".workout-list");function K(){a.favoriteButton.innerHTML=`
    Add to favorites
    <svg>
      <use href="./img/sprite.svg#heart"></use>
    </svg>`}function G(){a.favoriteButton.innerHTML=`
    Remove from favorites
    <svg>
      <use href="./img/sprite.svg#trash"></use>
    </svg>`}function qe(e,t){const o=e.findIndex(r=>r._id===t._id);o===-1?(e.push(t),G()):(e.splice(o,1),K()),localStorage.setItem("favorites",JSON.stringify(e))}async function _e(){try{const e=localStorage.getItem("favorites"),t=JSON.parse(e);if(t&&t.length>0)Se(Ie,t);else{const o=document.querySelector(".not-items-message");o.style.display="block"}}catch(e){console.log("🚀 ~ error in getFavoritesItems data rendering:",e)}}const U=new v({size:100});function k(e){return e.charAt(0).toUpperCase()+e.slice(1)}function $e(e){a.modalTitle.textContent=k(e.name),a.modalRatingValue.textContent=e.rating,a.modalImage.src=e.gifUrl,a.modalImage.alt=e.name,a.modalTarget.textContent=k(e.target),a.modalBodyPart.textContent=k(e.bodyPart),a.modalEquipment.textContent=k(e.equipment),a.modalPopular.textContent=e.popularity,a.modalCalories.textContent=`${e.burnedCalories}/${e.time} min`,a.modalDescription.textContent=e.description,a.stars.forEach((s,i)=>{i<Math.floor(e.rating)?s.classList.add("filled"):s.classList.remove("filled")});const t=JSON.parse(localStorage.getItem("favorites")||"[]"),o=t.some(s=>s._id===e._id);console.log("exercise:",e),console.log("favorites:",t),console.log("isInFavorites:",o),o?G():K();const r=()=>qe(t,e);a.favoriteButton.addEventListener("click",r),a.closeModalBtn.addEventListener("click",q);const n=s=>{s.target===a.modalExercises?q():s.target===a.modalRating&&C()};window.addEventListener("click",n),a.modalExercises._windowClickHandler=n,a.modalExercises._favoriteClickHandler=r,Me(a.modalExercises),a.ratingButton.addEventListener("click",C)}function Me(e){e.classList.remove("hidden"),setTimeout(()=>{e.classList.add("show")},10),document.body.style.overflow="hidden"}function C(){a.modalExercises.classList.toggle("hidden"),a.modalExercises.classList.toggle("show"),a.modalRating.classList.toggle("hidden"),a.modalRating.classList.toggle("show")}function q(){a.modalExercises.classList.remove("show"),setTimeout(()=>{a.modalExercises.classList.add("hidden"),document.body.style.overflow=""},300),document.body.style.overflow="",a.closeModalBtn.removeEventListener("click",q),a.favoriteButton.removeEventListener("click",a.modalExercises._favoriteClickHandler),a.ratingButton.removeEventListener("click",C),window.removeEventListener("click",a.modalExercises._windowClickHandler),a.modalTitle.textContent="",a.modalRatingValue.textContent="",a.modalImage.src="",a.modalImage.alt="",a.modalTarget.textContent="",a.modalBodyPart.textContent="",a.modalEquipment.textContent="",a.modalPopular.textContent="",a.modalCalories.textContent="",a.modalDescription.textContent=""}b.exercisesContainer.addEventListener("click",async function(e){const t=e.target.closest(".start-button");if(t){const o=t.dataset.exerciseId;if(o)try{const r=await we(o);await U.show(t),$e(r)}catch(r){console.error("Error fetching exercise:",r)}finally{await U.hide(t)}}});const g=document.querySelector('[data-modal="rating"]'),p=g==null?void 0:g.querySelector("form"),T=p==null?void 0:p.querySelectorAll('input[name="rating"]'),Pe=p==null?void 0:p.querySelector(".rating-value"),S=g==null?void 0:g.querySelector("[data-modal-close]"),z=new v({size:200});T==null||T.forEach(e=>{e.addEventListener("change",()=>{Pe.textContent=e.value+".0"})});p==null||p.addEventListener("submit",Oe);async function Oe(e){var i;e.preventDefault();const t=e.target,o=+((i=t.querySelector('[name="rating"]:checked'))==null?void 0:i.value)||0,r=t.querySelector('[name="email"]').value.trim(),n=t.querySelector('[name="comment"]').value.trim();if(!o||!r||!n){f.error({title:"Будь ласка, заповніть всі поля"});return}if(!/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(r)){f.error({title:"Введіть коректний email"});return}await z.show(g),fetch("https://httpbin.org/post",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rating:o,email:r,comment:n})}).then(l=>{if(!l.ok)throw new Error("Не вдалося надіслати оцінку");Y(),f.success({title:"Дякуємо за вашу оцінку!"})}).catch(l=>{f.error({title:l.message})}).finally(()=>{z.hide(g)})}S==null||S.addEventListener("click",Y);function Y(){g==null||g.classList.add("hidden"),C()}const Ae="your-energy",De="1.0.0",Fe="module",Re={dev:"vite",build:"vite build --base=/your-energy/",preview:"vite preview"},He={glob:"^11.0.0",postcss:"^8.4.41","postcss-sort-media-queries":"^5.2.0",vite:"^5.4.6"},Ue="Andriy <andygrigs88@gmail.com>",ze="ISC",je="/your-energy",Ne={axios:"^1.8.4",izitoast:"^1.4.0","lottie-web":"^5.12.2","vite-plugin-full-reload":"^1.2.0","vite-plugin-html-inject":"^1.1.2"},Je={name:Ae,private:!0,version:De,type:Fe,scripts:Re,devDependencies:He,author:Ue,license:ze,homepage:je,dependencies:Ne},j=`${window.location.origin}${Je.homepage}`,Ve=document.querySelectorAll('a[href^="/"]');function We(){j&&Ve.forEach(e=>{const t=e.getAttribute("href"),o=`${j}${t}`;e.href=new URL(o)})}const Qe=async()=>{const{data:e}=await y.get("/quote");return e},Z=()=>new Date().toISOString().split("T")[0],Xe=async()=>{try{const e=await Qe(),t=Z(),o={...e,date:t};return localStorage.setItem("quoteOfTheDay",JSON.stringify(o)),o}catch(e){const{status:t}=e,o=J[t]||`Unexpected error (${e.message||"unknown"})`;throw{code:t,message:o}}},N=new v({size:200,color:"#f4f4f4"});async function Ke(){const e=document.querySelector(".quote-day-card-text"),t=document.querySelector(".quote-day-card-author");try{const o=JSON.parse(localStorage.getItem("quoteOfTheDay"));await N.show(e);const r=Z();let n,s;if(o!=null&&o.date===r)n=o.author,s=o.quote;else{const i=await Xe();n=i.author,s=i.quote}e.textContent=s,t.textContent=n}catch(o){console.log("🚀 ~ error in getQuoteOfTheDay data rendering:",o)}finally{await N.hide(e)}}function Ge(){We();const e=window.location.href;console.log(e),e.includes("your-energy")&&document.addEventListener("DOMContentLoaded",()=>{Be()}),e.includes("favorites")&&document.addEventListener("DOMContentLoaded",()=>{_e()}),Ke(),window.addEventListener("scroll",O),b.scrollToTopBtn.addEventListener("click",A);const t=document.querySelector("#subscribe-form");t&&t.addEventListener("submit",async o=>{o.preventDefault();try{const r=t.email.value;await se(r),t.reset()}catch(r){console.log(r)}}),m.burgerButton.addEventListener("click",le),m.closeButton.addEventListener("click",x),m.backdrop.addEventListener("click",de),document.addEventListener("keydown",ue),m.navLinks.forEach(o=>o.addEventListener("click",me)),document.addEventListener("DOMContentLoaded",ae()),window.addEventListener("scroll",O),b.scrollToTopBtn.addEventListener("click",A)}Ge();
//# sourceMappingURL=main-cj6gQa3F.js.map
