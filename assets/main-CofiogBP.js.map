{"version":3,"file":"main-CofiogBP.js","sources":["../../src/js/config/izi-toast.js","../../src/js/constants/izi-toast.js","../../src/js/config/api.js","../../src/js/config/axios.js","../../src/js/services/api/subscriptions-api.js","../../src/js/constants/error-messages.js","../../src/js/services/subscriptions.js","../../src/js/constants/refs.js","../../src/js/services/scroll.js","../../src/js/utils/setActiveNavLink.js","../../src/js/sharedComponents/mobile-menu.js","../../src/js/services/api/filters-api.js","../../src/js/home/filter-state.js","../../src/js/home/exercise-renderer.js","../../src/js/home/search-handler.js","../../src/js/services/api/exercises-api.js","../../src/js/services/exercises.js","../../src/js/home/exercise-handler.js","../../src/js/home/category-handler.js","../../src/js/home/home.js","../../src/js/services/api/quotes-api.js","../../src/js/utils/getTodayDate.js","../../src/js/services/quotes.js","../../src/js/sharedComponents/quoteOfTheDay.js","../../src/js/sharedComponents/exercisesCards.js","../../src/js/services/favorites.js","../../src/js/services/modal.js","../../src/js/partials/rating-modal.js","../../src/js/config/internalLinksHandler.js","../../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\n\niziToast.settings({\n  timeout: 3000,\n  transitionIn: 'flipInX',\n  transitionOut: 'flipOutX',\n\n  iconColor: '#FFF',\n  color: '#FFF',\n\n  close: true,\n  position: 'topRight',\n\n  messageColor: '#FFF',\n  messageSize: '16px',\n\n  progressBar: true,\n\n  progressBarEasing: 'linear',\n\n  maxWidth: '432px',\n  message: 'Sorry, something went wrong.',\n});\n\nexport { iziToast };\n","const isLocalhost =\n  window.location.origin.includes('localhost') ||\n  window.location.origin.includes('127.0.0.1');\n\nexport const iziToastOptions = {\n  success: {\n    iconUrl: isLocalhost ? './img/success.svg' : '/your-energy/img/success.svg',\n\n    progressBarColor: '#326101',\n    backgroundColor: '#59A10D',\n  },\n  error: {\n    iconUrl: isLocalhost ? './img/error.svg' : '/your-energy/img/error.svg',\n\n    progressBarColor: '#B51B1B',\n    backgroundColor: '#EF4040',\n  },\n};\n","export const API_URL = 'https://your-energy.b.goit.study/api';\n","import axios from 'axios';\nimport { API_URL } from './api';\n\naxios.defaults.baseURL = API_URL;\n\nexport default axios;\n","import axios from '../../config/axios';\n\nexport const createSubscription = async email => {\n  const { data } = await axios.post('/subscription', { email });\n\n  return data;\n};\n","export const getExercisesByFiltersErrs = {\n  404: 'Exercises not found for the given filters.',\n  409: 'Filters are required to perform the search.',\n  500: 'Something went wrong while fetching exercises. Please try again later.',\n};\n\nexport const updateExerciseRatingErrs = {\n  400: 'Invalid request. Please check the body.',\n  404: 'Exercise not found. Please ensure the exercise ID is correct.',\n  409: 'Rating update conflict. The rating already exists with this email.',\n  500: 'Something went wrong while updating the rating. Please try again later.',\n};\n\nexport const getExerciseByIdErrs = {\n  400: 'Invalid request. Please check the exercise ID format.',\n  404: 'Exercise not found with the provided ID.',\n  500: 'Something went wrong while fetching the exercise. Please try again later.',\n};\n\nexport const getFiltersErrs = {\n  404: 'Filters not found. Please check the filters configuration.',\n  500: 'Something went wrong while fetching filters. Please try again later.',\n};\n\nexport const getQuoteOfTheDayErrs = {\n  404: 'Quote not found.',\n  500: 'Something went wrong while fetching the quote. Please try again later.',\n};\n\nexport const createSubscriptionErrs = {\n  400: 'Invalid request. Please check the email format.',\n  404: 'Endpoint not found. Please try again later.',\n  409: 'You are already subscribed.',\n  500: 'Something went wrong on the server. Please try again later.',\n};\n","import { iziToast } from '../config/izi-toast.js';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { iziToastOptions } from '../constants/izi-toast.js';\n\nimport * as api from './api/subscriptions-api.js';\nimport * as errorMessages from '../constants/error-messages.js';\n\nexport const handleSubscription = async email => {\n  try {\n    const { message } = await api.createSubscription(email);\n    iziToast.show({\n      ...iziToastOptions.success,\n      message,\n      timeout: 5000,\n    });\n\n    return message;\n  } catch (error) {\n    const { status } = error;\n    const message =\n      errorMessages.createSubscriptionErrs[status] ||\n      `Unexpected error (${error.message || 'unknown'})`;\n\n    iziToast.show({\n      ...iziToastOptions.error,\n      message,\n    });\n\n    throw {\n      code: status,\n      message: message,\n    };\n  }\n};\n","export const refs = {\n\tscrollToTopBtn: document.querySelector('.js-scroll-to-top-btn'),\n\texercisesContainer: document.getElementById('exercise-cards-container'),\n};\n\nexport const modalRefs = {\n\tmodalExercises: document.getElementById('exerciseModal'),\n\tmodalRating: document.getElementById('ratingModal'),\n\tmodalTitle: document.getElementById('modalTitle'),\n\tmodalRatingValue: document.getElementById('modalRating'),\n\tmodalImage: document.getElementById('modalImage'),\n\tmodalTarget: document.getElementById('modalTarget'),\n\tmodalBodyPart: document.getElementById('modalBodyPart'),\n\tmodalEquipment: document.getElementById('modalEquipment'),\n\tmodalPopular: document.getElementById('modalPopular'),\n\tmodalCalories: document.getElementById('modalCalories'),\n\tmodalDescription: document.getElementById('modalDescription'),\n\tstars: document.querySelectorAll('.star'),\n\tfavoriteButton: document.getElementById('favoriteButton'),\n\tratingButton: document.getElementById('ratingButton'),\n\tcloseModalBtn: document.querySelector('.close-button'),\n};\n\nexport const mobileMenuRefs = {\n\tburgerButton: document.querySelector('.js-burger-button'),\n\tmobileMenu: document.querySelector('.mobile-menu-js'),\n\tbackdrop: document.querySelector('.mobile-backdrop-js'),\n\tcloseButton: document.querySelector('.mobile-menu-close-js'),\n\tnavLinks: document.querySelectorAll('.nav-links.mobile-menu .nav-link'),\n};\n\nexport const paginationRefs = {\n\tpaginationContainer: document.getElementById('pagination'),\n};\n","import { refs } from '../constants/refs';\n\nexport function handleScrollForScrollTopBtn() {\n  const scrollThreshold = window.innerHeight / 4;\n\n  if (window.scrollY > scrollThreshold) {\n    refs.scrollToTopBtn.classList.remove('invisible');\n  } else {\n    refs.scrollToTopBtn.classList.add('invisible');\n  }\n}\n\nexport function scrollToTop() {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n}\n","export const setActiveLink = () => {\n  const links = document.querySelectorAll('.nav-link');\n  const currentPath = window.location.pathname;\n\n  links.forEach(link => {\n    if (link.getAttribute('href') === currentPath) {\n      link.classList.add('active');\n    } else {\n      link.classList.remove('active');\n    }\n  });\n};\n","import { mobileMenuRefs } from '../constants/refs';\n\nconst disableScroll = () => {\n  document.body.style.overflow = 'hidden';\n};\n\nconst enableScroll = () => {\n  document.body.style.overflow = '';\n};\n\nexport const openMobileMenu = () => {\n  mobileMenuRefs.backdrop.style.visibility = 'visible';\n  mobileMenuRefs.backdrop.style.opacity = 1;\n  mobileMenuRefs.mobileMenu.style.transform = 'translateX(0%)';\n\n  disableScroll();\n};\n\nexport const handleBackdropClick = event => {\n  if (event.target === mobileMenuRefs.backdrop) {\n    closeMenu();\n  }\n};\n\nexport const handleEscapeKey = event => {\n  if (\n    event.key === 'Escape' &&\n    mobileMenuRefs.mobileMenu.style.transform === 'translateX(0%)'\n  ) {\n    closeMenu();\n  }\n};\n\nexport const handleNavLinkClick = () => {\n  closeMenu();\n};\n\nexport const closeMenu = () => {\n  mobileMenuRefs.mobileMenu.style.transform = 'translateX(100%)';\n\n  setTimeout(() => {\n    mobileMenuRefs.backdrop.style.opacity = 0;\n    mobileMenuRefs.backdrop.style.visibility = 'hidden';\n\n    enableScroll();\n  }, 300);\n};\n","import axios from '../../config/axios';\n\nexport const getFilters = async params => {\n  const { data } = await axios.get('/filters', { params });\n  return data;\n};\n","export const state = {\n    filter: 'Muscles',\n    category: null,\n    page: 1,\n    limit: 12,\n    keyword: '',\n    allCategories: []\n  };\n  \n\n","\nfunction capitalize(str) {\n\treturn str.charAt(0).toUpperCase() + str.slice(1);\n}\n\nexport function createExerciseCard(ex) {\n\treturn `\n   <div class=\"workout-card ex-card\">\n        <div class=\"workout-header\">\n          <span class=\"workout-badge\">WORKOUT</span>\n          <div class=\"rating-block\">\n             <span class=\"workout-badge-rating\">${ex.rating}</span>\n            <svg class=\"star-icon\" width=\"14\" height=\"13\" style=\"width:16px\">\n              <use href=\"/img/sprite.svg#star\"></use>\n            </svg>\n          </div>\n            \n          <button class=\"start-button\" data-exercise-id=${ex._id}>Start ➔</button>\n        </div>\n        <div class=\"workout-body\">\n          <span class=\"workout-icon-running\">\n            <img\n              src=\"./img/quote_icon_1.svg\"\n              width=\"24px\"\n              height=\"24px\"\n              alt=\"Running Icon\"\n            />\n          </span>        \n          <h3 class=\"workout-name\">${capitalize(ex.name)}</h3>\n          <p class=\"workout-stats\">\n          <span>Burned calories: <b>${ex.burnedCalories}/${ex.time} min</b></span> \n          <span> Body part: <b>${ex.bodyPart}</b></span>\n          <span>Target: <b>${ex.target}</b></span> \n          </p>\n        </div>\n      </div>\n  `;\n}","import { state } from './filter-state';\nimport { createExerciseCard } from './exercise-renderer';\n\nexport function initExerciseSearch() {\n\tconst input = document.getElementById('search-input');\n\tconsole.log(input)\n\tconst container = document.getElementById('exercise-cards-container');\n\n\tinput.addEventListener('input', e => {\n\t\tconst value = e.target.value.trim().toLowerCase();\n\n\t\tconst filtered = state.exercises.filter(ex =>\n\t\t\tex.name.toLowerCase().includes(value)\n\t\t);\n\n\t\tif (!filtered.length) {\n\t\t\tcontainer.innerHTML = '<p>No matching exercises found.</p>';\n\t\t\treturn;\n\t\t}\n\n\t\tcontainer.innerHTML = filtered.map(createExerciseCard).join('');\n\t});\n}\n\nexport function toggleSearchInput(visible) {\n\tconst searchInput = document.querySelector('.search');\n\tif (!searchInput) return;\n\tsearchInput.style.display = visible ? 'block' : 'none';\n}\n","import axios from '../../config/axios';\n\nexport const getExercisesByFilters = async params => {\n  const { data } = await axios.get('/exercises', { params });\n  return data;\n};\n\nexport const updateExerciseRating = async (id, body) => {\n  const { data } = await axios.patch(`/exercises/${id}/rating`, { ...body });\n  return data;\n};\n\nexport const getExerciseById = async id => {\n  const { data } = await axios.get(`/exercises/${id}`);\n  return data;\n};\n","import { iziToast } from '../config/izi-toast.js';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { iziToastOptions } from '../constants/izi-toast.js';\n\nimport * as api from './api/exercises-api.js';\nimport * as errorMessages from '../constants/error-messages.js';\n\nexport const handleGetExercisesByFilters = async query => {\n  try {\n    const exercises = await api.getExercisesByFilters(query);\n    return exercises;\n  } catch (error) {\n    const { status } = error;\n    const message =\n      errorMessages.getExercisesByFiltersErrs[status] ||\n      `Unexpected error (${error.message || 'unknown'})`;\n\n    throw {\n      code: status,\n      message: message,\n    };\n  }\n};\n\nexport const handleUpdateExerciseRating = async (id, body) => {\n  try {\n    const response = await api.updateExerciseRating(id, body);\n    return response;\n  } catch (error) {\n    const { status } = error;\n    const message =\n      errorMessages.updateExerciseRatingErrs[status] ||\n      `Unexpected error (${error.message || 'unknown'})`;\n\n    iziToast.show({\n      ...iziToastOptions.error,\n      message,\n    });\n\n    throw {\n      code: status,\n      message: message,\n    };\n  }\n};\n\nexport const handleGetExerciseById = async id => {\n  try {\n    const exercise = await api.getExerciseById(id);\n    return exercise;\n  } catch (error) {\n    const { status } = error;\n    const message =\n      errorMessages.getExerciseByIdErrs[status] ||\n      `Unexpected error (${error.message || 'unknown'})`;\n\n    throw {\n      code: status,\n      message: message,\n    };\n  }\n};\n","import { state } from './filter-state';\nimport { initExerciseSearch } from './search-handler';\nimport { createExerciseCard } from './exercise-renderer';\nimport { handleGetExercisesByFilters } from '../services/exercises';\n\nconst container = document.getElementById('exercise-cards-container');\n\nconst reverseFilterMap = {\n\tmuscles: 'Muscles',\n\t'body parts': 'Body parts',\n\tequipment: 'Equipment',\n};\n\nexport async function loadExercisesByCategory() {\n\tcontainer.innerHTML = '<p>Loading exercises...</p>';\n\n\ttry {\n\t\tconst filterParamMap = {\n\t\t\t'body parts': 'bodypart',\n\t\t\tmuscles: 'muscles',\n\t\t\tequipment: 'equipment',\n\t\t};\n\n\t\tconst filterKey = filterParamMap[state.filter.toLowerCase()];\n\t\tif (!filterKey) {\n\t\t\tconsole.warn('❗ Невідомий фільтр:', state.filter);\n\t\t\treturn;\n\t\t}\n\n\t\tconst query = {\n\t\t\t[filterKey]: state.category,\n\t\t\tkeyword: state.keyword,\n\t\t\tpage: state.page,\n\t\t\tlimit: state.limit,\n\t\t};\n\n\t\tconst response = await handleGetExercisesByFilters(query);\n\t\tconst exercises = response.results;\n\n\t\tstate.exercises = exercises;\n\n\t\tif (!exercises.length) {\n\t\t\tcontainer.innerHTML = '<p>No exercises found.</p>';\n\t\t\treturn;\n\t\t}\n\n\t\tcontainer.innerHTML = exercises.map(createExerciseCard).join('');\n\t\tinitExerciseSearch();\n\t} catch (error) {\n\t\tcontainer.innerHTML = '<p>Error loading exercises.</p>';\n\t\tconsole.error('❌ Exercise loading error:', error.message);\n\t}\n}\n\n\n","import { state } from './filter-state';\nimport { toggleSearchInput } from './search-handler';\nimport { loadExercisesByCategory } from './exercise-handler';\n\nconst reverseFilterMap = {\n\tmuscles: 'Muscles',\n\t'body parts': 'Body parts',\n\tequipment: 'Equipment',\n};\n\nexport function handleCategoryClick(categoryName, filterType) {\n\ttoggleSearchInput(true);\n\n\tstate.category = categoryName;\n\tstate.filter = filterType;\n\tstate.page = 1;\n\tstate.keyword = '';\n\n\tconst input = document.getElementById('search-input');\n\tif (input) input.value = '';\n\n\tconst title = document.getElementById('current-category-name');\n\tif (title) title.textContent = ` / ${capitalize(categoryName)}`;\n\n\tloadExercisesByCategory();\n}\n\nexport function renderCategoriesByFilter(filterKey) {\n\tconst container = document.getElementById('exercise-cards-container');\n\n\tconst title = document.getElementById('current-category-name');\n\tif (title) title.textContent = '';\n\n\tcontainer.innerHTML = '<p>Loading filtered categories...</p>';\n\n\tconst filterLabel = reverseFilterMap[filterKey];\n\n\tif (!filterLabel) {\n\t\tconsole.warn('❗ Невідомий фільтр:', filterKey);\n\t\tcontainer.innerHTML = '<p>No filter selected.</p>';\n\t\treturn;\n\t}\n\n\tconst filtered = state.allCategories.filter(\n\t\tcat => cat.filter.trim().toLowerCase() === filterLabel.toLowerCase()\n\t);\n\n\tif (!filtered.length) {\n\t\tcontainer.innerHTML = '<p>No categories found for this filter.</p>';\n\t\treturn;\n\t}\n\n\tconst markup = filtered.map(createCategoryCard).join('');\n\tcontainer.innerHTML = markup;\n\ttoggleSearchInput(false);\n\tbindCategoryClickHandlers();\n}\n\nexport function bindCategoryClickHandlers() {\n\tdocument.querySelectorAll('.category-card').forEach(card => {\n\t\tcard.addEventListener('click', () => {\n\t\t\tconst categoryName = card.dataset.name;\n\t\t\tconst categoryType = card.dataset.type?.toLowerCase().trim();\n\t\t\thandleCategoryClick(categoryName, categoryType);\n\t\t});\n\t});\n}\n\nexport function createCategoryCard(category) {\n\treturn `\n    <div class=\"category-card\" \n     data-name=\"${category.name}\" \n     data-type=\"${category.filter}\" \n     data-id=\"${category.id}\">\n\t <div class=\"overlay\"></div>\n  <div class=\"category-card-bg\" style=\"background-image: url('${\n\t\tcategory.imgURL\n  }')\">\n    <div class=\"category-card-text\">\n      <h3 class=\"category-card-title\">${capitalize(category.name)}</h3>\n      <p class=\"category-card-sub\">${capitalize(category.filter)}</p>\n    </div>\n  </div>\n</div>\n\n  `;\n}\n\nfunction capitalize(str) {\n\treturn str.charAt(0).toUpperCase() + str.slice(1);\n}\n","import { getFilters } from '../services/api/filters-api';\nimport {\n\trenderCategoriesByFilter,\n\tbindCategoryClickHandlers,\n\tcreateCategoryCard,\n} from './category-handler';\nimport { state } from './filter-state';\n\nconst container = document.getElementById('exercise-cards-container');\n\n\n\nexport function initFilters() {\n\tconst filterButtons = document.querySelectorAll('.filter-btn');\n\n\tfilterButtons.forEach(button => {\n\t\tbutton.addEventListener('click', e => {\n\t\t\tconst clickedLabel = e.currentTarget.dataset.type\n\t\t\t\t.toLowerCase()\n\t\t\t\t.trim();\n\n\t\t\tstate.filter = clickedLabel;\n\t\t\tstate.page = 1;\n\t\t\tstate.category = null;\n\t\t\tstate.keyword = '';\n\n\t\t\tdocument\n\t\t\t\t.querySelector('.filter-btn.active')\n\t\t\t\t?.classList.remove('active');\n\t\t\tbutton.classList.add('active');\n\n\t\t\trenderCategoriesByFilter(state.filter);\n\t\t});\n\t});\n\n\tloadAllCategories().then(() => {\n\t\tstate.filter = 'muscles';\n\n\t\tdocument\n\t\t\t.querySelector('.filter-btn[data-type=\"Muscles\"]')\n\t\t\t?.classList.add('active');\n\n\t\trenderCategoriesByFilter(state.filter);\n\t});\n}\n\nasync function loadAllCategories() {\n\tcontainer.innerHTML = '<p>Loading categories...</p>';\n\n\ttry {\n\t\tconst response = await getFilters({\n\t\t\tpage: 1,\n\t\t\tlimit: 100,\n\t\t});\n\n\t\tstate.allCategories = response.results;\n\n\t\tconst markup = state.allCategories.map(createCategoryCard).join('');\n\t\tcontainer.innerHTML = markup;\n\n\t\tbindCategoryClickHandlers();\n\t} catch (error) {\n\t\tconsole.error('❌ Категорії не завантажено:', error.message);\n\t\tcontainer.innerHTML = '<p>Error loading categories.</p>';\n\t}\n}\n","import axios from '../../config/axios';\n\nexport const getQuoteOfTheDay = async () => {\n  const { data } = await axios.get('/quote');\n  return data;\n};\n","export const getTodayDate = () => {\n  return new Date().toISOString().split('T')[0];\n};\n","import * as api from './api/quotes-api';\nimport * as errorMessages from '../constants/error-messages';\nimport { getTodayDate } from '../utils/getTodayDate';\n\nexport const handleGetQuoteOfTheDay = async () => {\n  try {\n    const quote = await api.getQuoteOfTheDay();\n    const today = getTodayDate();\n\n    const quoteWithDate = {\n      ...quote,\n      date: today,\n    };\n\n    localStorage.setItem('quoteOfTheDay', JSON.stringify(quoteWithDate));\n\n    return quoteWithDate;\n  } catch (error) {\n    const { status } = error;\n    const message =\n      errorMessages.getExercisesByFiltersErrs[status] ||\n      `Unexpected error (${error.message || 'unknown'})`;\n\n    throw {\n      code: status,\n      message: message,\n    };\n  }\n};\n","import { handleGetQuoteOfTheDay } from '../services/quotes.js';\nimport { getTodayDate } from '../utils/getTodayDate.js';\n\nexport async function renderQuoteOfTheDay(quoteText, quoteAuthor) {\n\ttry {\n\t\tconst ls_data = JSON.parse(localStorage.getItem('quoteOfTheDay'));\n\n\t\tconst todayDate = getTodayDate();\n\t\tlet qouteDate;\n\n\t\tlet authorName;\n\t\tlet authorQuote;\n\n\t\tif (ls_data != null && ls_data.date === todayDate) {\n\t\t\tauthorName = ls_data.author;\n\t\t\tauthorQuote = ls_data.quote;\n\t\t} else {\n\t\t\tconst requestData = await handleGetQuoteOfTheDay();\n\t\t\tauthorName = requestData.author;\n\t\t\tauthorQuote = requestData.quote;\n\t\t}\n\n\t\tquoteText.textContent = authorQuote;\n\t\tquoteAuthor.textContent = authorName;\n\t} catch (error) {\n\t\tconsole.log('🚀 ~ error in getQuoteOfTheDay data rendering:', error);\n\t}\n}\n","export function preparingCardsMarkup(listElement, items, BtnVisible = true) {\n\tif (!items || items.length === 0) {\n\t\tlistElement.innerHTML = '';\n\t\treturn;\n\t}\n\n\tconst FavoritesMarkup = items\n\t\t.map(\n\t\t\titem => `\n    <li class=\"workout-list-item\">\n      <div class=\"workout-card\">\n        <div class=\"workout-header\">\n          <span class=\"workout-badge\">WORKOUT</span>\n          ${\n\t\t\t\t\t\tBtnVisible\n\t\t\t\t\t\t\t? `\n            <button class=\"delete-button\" aria-label=\"Delete workout\">\n              <img src=\"../img/trash-icon.svg\" alt=\"Delete\" width=\"16\" height=\"16\">\n            </button>\n          `\n\t\t\t\t\t\t\t: ''\n\t\t\t\t\t}\n          <button class=\"start-button\" data-exercise-id=${\n\t\t\t\t\t\titem._id\n\t\t\t\t\t}>Start ➔</button>\n        </div>\n        <div class=\"workout-body\">\n          <span class=\"workout-icon-running\">\n            <img\n              src=\"../img/quote_icon_1.svg\"\n              width=\"24px\"\n              height=\"24px\"\n              alt=\"Running Icon\"\n            />\n          </span>        \n          <h3 class=\"workout-name\">${item.name}</h3>\n          <p class=\"workout-stats\">\n            Burned calories: ${item.burnedCalories} / ${item.time} min\n            <br>\n            Body part: ${item.bodyPart} <br>  Target: ${item.target}\n          </p>\n        </div>\n      </div>\n    </li>\n    `\n\t\t)\n\t\t.join('');\n\n\tlistElement.innerHTML = FavoritesMarkup;\n}\n","import { mobileMenuRefs, modalRefs, refs } from '../constants/refs.js';\nimport { renderQuoteOfTheDay } from '../sharedComponents/quoteOfTheDay.js';\nimport { preparingCardsMarkup } from '../sharedComponents/exercisesCards.js';\nimport { setActiveLink } from '../utils/setActiveNavLink.js';\nimport * as mobileMenu from '../sharedComponents/mobile-menu.js';\nimport { handleScrollForScrollTopBtn, scrollToTop } from './scroll.js';\n\nconst quoteText = document.querySelector('.quote-day-card-text');\nconst quoteAuthor = document.querySelector('.quote-day-card-author');\nconst workuotList = document.querySelector('.workout-list');\n\n// Mobile menu\nmobileMenuRefs.burgerButton.addEventListener(\n\t'click',\n\tmobileMenu.openMobileMenu\n);\nmobileMenuRefs.closeButton.addEventListener('click', mobileMenu.closeMenu);\nmobileMenuRefs.backdrop.addEventListener(\n\t'click',\n\tmobileMenu.handleBackdropClick\n);\ndocument.addEventListener('keydown', mobileMenu.handleEscapeKey);\nmobileMenuRefs.navLinks.forEach(link =>\n\tlink.addEventListener('click', mobileMenu.handleNavLinkClick)\n);\n\n// Detect current page and add 'active' class to the corresponding navigation link\ndocument.addEventListener('DOMContentLoaded', setActiveLink());\n\n// Scroll to top button\nwindow.addEventListener('scroll', handleScrollForScrollTopBtn);\nrefs.scrollToTopBtn.addEventListener('click', scrollToTop);\n\nexport function setFavoriteButtonToAdd() {\n\tmodalRefs.favoriteButton.innerHTML = `\n    Add to favorites\n    <svg>\n      <use href=\"./img/sprite.svg#heart\"></use>\n    </svg>`;\n}\n\nexport function setFavoriteButtonToRemove() {\n\tmodalRefs.favoriteButton.innerHTML = `\n    Remove from favorites\n    <svg>\n      <use href=\"./img/sprite.svg#trash\"></use>\n    </svg>`;\n}\n\nexport function handleFavoriteClick(favorites, exercise) {\n\tconst exerciseIndex = favorites.findIndex(fav => fav._id === exercise._id);\n\n\tif (exerciseIndex === -1) {\n\t\t// Add to favorites\n\t\tfavorites.push(exercise);\n\t\tsetFavoriteButtonToRemove();\n\t} else {\n\t\t// Remove from favorites\n\t\tfavorites.splice(exerciseIndex, 1);\n\t\tsetFavoriteButtonToAdd();\n\t}\n\n\tlocalStorage.setItem('favorites', JSON.stringify(favorites));\n}\n\nasync function renderFavoritesItems() {\n\ttry {\n\t\tconst favoritesListJson = localStorage.getItem('favorites');\n\t\tconst favoritesList = JSON.parse(favoritesListJson);\n\t\tif (favoritesList && favoritesList.length > 0) {\n\t\t\tpreparingCardsMarkup(workuotList, favoritesList);\n\t\t} else {\n\t\t\tconst error = document.querySelector('.not-items-message');\n\t\t\terror.style.display = 'block';\n\t\t}\n\t} catch (error) {\n\t\tconsole.log('🚀 ~ error in getFavoritesItems data rendering:', error);\n\t}\n}\n\nrenderQuoteOfTheDay(quoteText, quoteAuthor);\nrenderFavoritesItems();\n","import { handleGetExerciseById } from './exercises.js';\nimport { modalRefs, refs } from '../constants/refs.js';\nimport {\n\tsetFavoriteButtonToAdd,\n\tsetFavoriteButtonToRemove,\n\thandleFavoriteClick,\n} from './favorites.js';\n\nfunction firstLetterUpperCase(str) {\n\treturn str.charAt(0).toUpperCase() + str.slice(1);\n}\n\nfunction openModal(exercise) {\n\tmodalRefs.modalTitle.textContent = firstLetterUpperCase(exercise.name);\n\tmodalRefs.modalRatingValue.textContent = exercise.rating;\n\tmodalRefs.modalImage.src = exercise.gifUrl;\n\tmodalRefs.modalImage.alt = exercise.name;\n\n\tmodalRefs.modalTarget.textContent = firstLetterUpperCase(exercise.target);\n\tmodalRefs.modalBodyPart.textContent = firstLetterUpperCase(exercise.bodyPart);\n\tmodalRefs.modalEquipment.textContent = firstLetterUpperCase(\n\t\texercise.equipment\n\t);\n\tmodalRefs.modalPopular.textContent = exercise.popularity;\n\n\tmodalRefs.modalCalories.textContent = `${exercise.burnedCalories}/${exercise.time} min`;\n\tmodalRefs.modalDescription.textContent = exercise.description;\n\n\tmodalRefs.stars.forEach((star, index) => {\n\t\tif (index < Math.floor(exercise.rating)) {\n\t\t\tstar.classList.add('filled');\n\t\t} else {\n\t\t\tstar.classList.remove('filled');\n\t\t}\n\t});\n\n\tconst favorites = JSON.parse(localStorage.getItem('favorites') || '[]');\n\tconst isInFavorites = favorites.some(fav => fav._id === exercise._id);\n\tconsole.log('exercise:', exercise);\n\tconsole.log('favorites:', favorites);\n\tconsole.log('isInFavorites:', isInFavorites);\n\n\tif (isInFavorites) {\n\t\tsetFavoriteButtonToRemove();\n\t} else {\n\t\tsetFavoriteButtonToAdd();\n\t}\n\tconst favoriteClickHandler = () => handleFavoriteClick(favorites, exercise);\n\n\tmodalRefs.favoriteButton.addEventListener('click', favoriteClickHandler);\n\tmodalRefs.closeModalBtn.addEventListener('click', closeModal);\n\n\tconst handleWindowClick = event => {\n\t\tif (event.target === modalRefs.modalExercises) {\n\t\t\tcloseModal();\n\t\t} else if (event.target === modalRefs.modalRating) {\n\t\t\ttoggleModal();\n\t\t}\n\t};\n\n\twindow.addEventListener('click', handleWindowClick);\n\tmodalRefs.modalExercises._windowClickHandler = handleWindowClick;\n\tmodalRefs.modalExercises._favoriteClickHandler = favoriteClickHandler;\n\n\tshowModal(modalRefs.modalExercises);\n\n\tmodalRefs.ratingButton.addEventListener('click', toggleModal);\n}\n\nfunction showModal(modal) {\n\tmodal.classList.remove('hidden');\n\n\tsetTimeout(() => {\n\t\tmodal.classList.add('show');\n\t}, 10);\n\n\tdocument.body.style.overflow = 'hidden';\n}\n\nexport function toggleModal() {\n\tmodalRefs.modalExercises.classList.toggle('hidden');\n\tmodalRefs.modalExercises.classList.toggle('show');\n\tmodalRefs.modalRating.classList.toggle('hidden');\n\tmodalRefs.modalRating.classList.toggle('show');\n}\n\nfunction closeModal() {\n\tmodalRefs.modalExercises.classList.remove('show');\n\n\tsetTimeout(() => {\n\t\tmodalRefs.modalExercises.classList.add('hidden');\n\t\tdocument.body.style.overflow = '';\n\t}, 300);\n\n\tdocument.body.style.overflow = '';\n\tmodalRefs.closeModalBtn.removeEventListener('click', closeModal);\n\tmodalRefs.favoriteButton.removeEventListener(\n\t\t'click',\n\t\tmodalRefs.modalExercises._favoriteClickHandler\n\t);\n\tmodalRefs.ratingButton.removeEventListener('click', toggleModal);\n\n\twindow.removeEventListener(\n\t\t'click',\n\t\tmodalRefs.modalExercises._windowClickHandler\n\t);\n}\n\nrefs.exercisesContainer.addEventListener('click', async function (event) {\n\tconst startButton = event.target.closest('.start-button');\n\n\tif (startButton) {\n\t\tconst exerciseId = startButton.dataset.exerciseId;\n\n\t\tif (exerciseId) {\n\t\t\ttry {\n\t\t\t\tconst exercise = await handleGetExerciseById(exerciseId);\n\t\t\t\topenModal(exercise);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('Error fetching exercise:', error);\n\t\t\t}\n\t\t}\n\t}\n});\n","// rating-modal.js\n\nimport { toggleModal } from '../services/modal';\n\n// Отримуємо DOM-елементи\nconst modal = document.querySelector('[data-modal=\"rating\"]');\nconst form = modal?.querySelector('form');\nconst ratingInputs = form?.querySelectorAll('input[name=\"rating\"]');\nconst ratingValue = form?.querySelector('.rating-value');\nconst closeBtn = modal?.querySelector('[data-modal-close]');\n\n// Динамічне оновлення числа біля зірочок\nratingInputs?.forEach(input => {\n\tinput.addEventListener('change', () => {\n\t\tratingValue.textContent = input.value + '.0';\n\t});\n});\n\n// Обробка сабміту форми\nform?.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n\tevent.preventDefault();\n\n\tconst form = event.target;\n\tconst rating = +form.querySelector('[name=\"rating\"]:checked')?.value || 0;\n\tconst email = form.querySelector('[name=\"email\"]').value.trim();\n\tconst comment = form.querySelector('[name=\"comment\"]').value.trim();\n\n\t// Перевірка заповнення\n\tif (!rating || !email || !comment) {\n\t\tiziToast.error({ message: 'Будь ласка, заповніть всі поля' });\n\t\treturn;\n\t}\n\n\t// Email валідація\n\tconst emailRegex = /^\\w+(\\.\\w+)?@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;\n\tif (!emailRegex.test(email)) {\n\t\tiziToast.error({ message: 'Введіть коректний email' });\n\t\treturn;\n\t}\n\n\t// Надсилаємо запит на backend\n\tfetch('https://httpbin.org/post', {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json',\n\t\t},\n\t\tbody: JSON.stringify({ rating, email, comment }),\n\t})\n\t\t.then(res => {\n\t\t\tif (!res.ok) throw new Error('Не вдалося надіслати оцінку');\n\t\t\tcloseRatingModal();\n\t\t\tiziToast.success({ message: 'Дякуємо за вашу оцінку!' });\n\t\t})\n\t\t.catch(err => {\n\t\t\tiziToast.error({ message: err.message });\n\t\t});\n}\n\n// Закриття модалки\ncloseBtn?.addEventListener('click', closeRatingModal);\n\nfunction closeRatingModal() {\n\tmodal?.classList.add('hidden');\n\ttoggleModal();\n}\n","import packageData from '../../../package.json' assert { type: 'json' };\n\nconst baseUrl = `${window.location.origin}${packageData.homepage || ''}`;\n\nconst interanlLinks = document.querySelectorAll('a[href^=\"/\"]');\n\nexport function changeInteranlLinksBaseURL() {\n\tif (baseUrl) {\n\t\tinteranlLinks.forEach(anchor => {\n\t\t\tconst relativeHref = anchor.getAttribute('href');\n\t\t\tconst url = `${baseUrl}${relativeHref}`;\n\t\t\tanchor.href = new URL(url);\n\t\t});\n\t}\n}\n","import lottie from 'lottie-web';\nimport { handleSubscription } from './js/services/subscriptions';\nimport { mobileMenuRefs, refs } from './js/constants/refs';\nimport { handleScrollForScrollTopBtn, scrollToTop } from './js/services/scroll';\nimport { setActiveLink } from './js/utils/setActiveNavLink.js';\n\nimport * as mobileMenu from './js/sharedComponents/mobile-menu.js';\nimport { initFilters } from './js/home/home';\nimport './js/partials/rating-modal.js';\nimport './js/services/modal.js';\n\nimport { changeInteranlLinksBaseURL } from './js/config/internalLinksHandler.js';\n\nchangeInteranlLinksBaseURL();\n\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\tinitFilters();\n});\n\nwindow.addEventListener('scroll', handleScrollForScrollTopBtn);\nrefs.scrollToTopBtn.addEventListener('click', scrollToTop);\n\nconst subscribeForm = document.querySelector('#subscribe-form');\nif (subscribeForm) {\n\tsubscribeForm.addEventListener('submit', async event => {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\tconst email = subscribeForm.email.value;\n\t\t\tawait handleSubscription(email);\n\t\t\tsubscribeForm.reset();\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t});\n}\n\n//лише для тесту\n// import { Loader } from './js/services/loader.js';\n\n// const redLoader = new Loader({\n// \ttarget: '#red-loader',\n// \tsize: 50,\n// \tcolor: 'red',\n// });\n\n// document.getElementById('red-btn').addEventListener('click', async () => {\n//   redLoader.show();\n//   await new Promise(res => setTimeout(res, 3000));\n//   redLoader.hide();\n// });\n\n// const blueLoader = new Loader({\n//   target: '#blue-loader',\n//   size: 75,\n//   color: 'blue',\n// });\n\n// document.getElementById('blue-btn').addEventListener('click', async () => {\n//   blueLoader.show();\n//   await new Promise(res => setTimeout(res, 3000));\n//   blueLoader.hide();\n// });\n\n// const blackLoader = new Loader({\n//   target: '#black-loader',\n//   size: 100,\n//   color: 'black',\n// });\n\n// document.getElementById('black-btn').addEventListener('click', async () => {\n// \tblackLoader.show();\n// \tawait new Promise(res => setTimeout(res, 3000));\n// \tblackLoader.hide();\n// });\n"],"names":["iziToast","isLocalhost","iziToastOptions","API_URL","axios","createSubscription","email","data","getExercisesByFiltersErrs","getExerciseByIdErrs","createSubscriptionErrs","handleSubscription","message","api.createSubscription","error","status","errorMessages.createSubscriptionErrs","refs","modalRefs","mobileMenuRefs","handleScrollForScrollTopBtn","scrollThreshold","scrollToTop","setActiveLink","links","currentPath","link","disableScroll","enableScroll","openMobileMenu","handleBackdropClick","event","closeMenu","handleEscapeKey","handleNavLinkClick","getFilters","params","state","capitalize","str","createExerciseCard","ex","initExerciseSearch","input","container","e","value","filtered","toggleSearchInput","visible","searchInput","getExercisesByFilters","getExerciseById","id","handleGetExercisesByFilters","query","api.getExercisesByFilters","errorMessages.getExercisesByFiltersErrs","handleGetExerciseById","api.getExerciseById","errorMessages.getExerciseByIdErrs","loadExercisesByCategory","filterKey","exercises","reverseFilterMap","handleCategoryClick","categoryName","filterType","title","renderCategoriesByFilter","filterLabel","cat","markup","createCategoryCard","bindCategoryClickHandlers","card","categoryType","_a","category","initFilters","button","clickedLabel","loadAllCategories","response","getQuoteOfTheDay","getTodayDate","handleGetQuoteOfTheDay","quote","api.getQuoteOfTheDay","today","quoteWithDate","renderQuoteOfTheDay","quoteText","quoteAuthor","ls_data","todayDate","qouteDate","authorName","authorQuote","requestData","preparingCardsMarkup","listElement","items","BtnVisible","FavoritesMarkup","item","workuotList","mobileMenu.openMobileMenu","mobileMenu.closeMenu","mobileMenu.handleBackdropClick","mobileMenu.handleEscapeKey","mobileMenu.handleNavLinkClick","setFavoriteButtonToAdd","setFavoriteButtonToRemove","handleFavoriteClick","favorites","exercise","exerciseIndex","fav","renderFavoritesItems","favoritesListJson","favoritesList","firstLetterUpperCase","openModal","star","index","isInFavorites","favoriteClickHandler","closeModal","handleWindowClick","toggleModal","showModal","modal","startButton","exerciseId","form","ratingInputs","ratingValue","closeBtn","handleSubmit","rating","comment","res","closeRatingModal","err","baseUrl","packageData","interanlLinks","changeInteranlLinksBaseURL","anchor","relativeHref","url","subscribeForm"],"mappings":"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"}