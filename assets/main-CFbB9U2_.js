import{i as k,a as p}from"./vendor-XxEN_XWt.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function o(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=o(n);fetch(n.href,a)}})();k.settings({timeout:3e3,transitionIn:"flipInX",transitionOut:"flipOutX",iconColor:"#FFF",color:"#FFF",close:!0,position:"topRight",messageColor:"#FFF",messageSize:"16px",progressBar:!0,progressBarEasing:"linear",maxWidth:"432px",message:"Sorry, something went wrong."});const C=window.location.origin.includes("localhost")||window.location.origin.includes("127.0.0.1"),S={success:{iconUrl:C?"./img/success.svg":"/your-energy/img/success.svg",progressBarColor:"#326101",backgroundColor:"#59A10D"},error:{iconUrl:C?"./img/error.svg":"/your-energy/img/error.svg",progressBarColor:"#B51B1B",backgroundColor:"#EF4040"}},P="https://your-energy.b.goit.study/api";p.defaults.baseURL=P;const U=async e=>{const{data:t}=await p.post("/subscription",{email:e});return t},$={404:"Exercises not found for the given filters.",409:"Filters are required to perform the search.",500:"Something went wrong while fetching exercises. Please try again later."},_={400:"Invalid request. Please check the exercise ID format.",404:"Exercise not found with the provided ID.",500:"Something went wrong while fetching the exercise. Please try again later."},N={400:"Invalid request. Please check the email format.",404:"Endpoint not found. Please try again later.",409:"You are already subscribed.",500:"Something went wrong on the server. Please try again later."},j=async e=>{try{const{message:t}=await U(e);return k.show({...S.success,message:t,timeout:5e3}),t}catch(t){const{status:o}=t,r=N[o]||`Unexpected error (${t.message||"unknown"})`;throw k.show({...S.error,message:r}),{code:o,message:r}}},y={scrollToTopBtn:document.querySelector(".js-scroll-to-top-btn"),exercisesContainer:document.getElementById("exercise-cards-container")},s={modalExercises:document.getElementById("exerciseModal"),modalRating:document.getElementById("ratingModal"),modalTitle:document.getElementById("modalTitle"),modalRatingValue:document.getElementById("modalRating"),modalImage:document.getElementById("modalImage"),modalTarget:document.getElementById("modalTarget"),modalBodyPart:document.getElementById("modalBodyPart"),modalEquipment:document.getElementById("modalEquipment"),modalPopular:document.getElementById("modalPopular"),modalCalories:document.getElementById("modalCalories"),modalDescription:document.getElementById("modalDescription"),stars:document.querySelectorAll(".star"),favoriteButton:document.getElementById("favoriteButton"),ratingButton:document.getElementById("ratingButton"),closeModalBtn:document.querySelector(".close-button")},l={burgerButton:document.querySelector(".js-burger-button"),mobileMenu:document.querySelector(".mobile-menu-js"),backdrop:document.querySelector(".mobile-backdrop-js"),closeButton:document.querySelector(".mobile-menu-close-js"),navLinks:document.querySelectorAll(".nav-links.mobile-menu .nav-link")};function F(){const e=window.innerHeight/4;window.scrollY>e?y.scrollToTopBtn.classList.remove("invisible"):y.scrollToTopBtn.classList.add("invisible")}function O(){window.scrollTo({top:0,behavior:"smooth"})}const z=()=>{const e=document.querySelectorAll(".nav-link"),t=window.location.pathname;e.forEach(o=>{o.getAttribute("href")===t?o.classList.add("active"):o.classList.remove("active")})},J=()=>{document.body.style.overflow="hidden"},W=()=>{document.body.style.overflow=""},Q=()=>{l.backdrop.style.visibility="visible",l.backdrop.style.opacity=1,l.mobileMenu.style.transform="translateX(0%)",J()},X=e=>{e.target===l.backdrop&&b()},K=e=>{e.key==="Escape"&&l.mobileMenu.style.transform==="translateX(0%)"&&b()},G=()=>{b()},b=()=>{l.mobileMenu.style.transform="translateX(100%)",setTimeout(()=>{l.backdrop.style.opacity=0,l.backdrop.style.visibility="hidden",W()},300)},V=async e=>{const{data:t}=await p.get("/filters",{params:e});return t},Y=async e=>{const{data:t}=await p.get("/exercises",{params:e});return t},Z=async e=>{const{data:t}=await p.get(`/exercises/${e}`);return t},ee=async e=>{try{return await Y(e)}catch(t){const{status:o}=t,r=$[o]||`Unexpected error (${t.message||"unknown"})`;throw{code:o,message:r}}},te=async e=>{try{return await Z(e)}catch(t){const{status:o}=t,r=_[o]||`Unexpected error (${t.message||"unknown"})`;throw{code:o,message:r}}},i={filter:"Muscles",category:null,page:1,limit:12,keyword:""},oe={"body parts":"bodypart",muscles:"muscles",equipment:"equipment"};function re(e,t){i.category=e,i.filter=t,i.page=1,i.keyword="";const o=document.getElementById("search-input");o&&(o.value="");const r=document.getElementById("current-category");r&&(r.textContent=` / ${ae(e)}`),ne()}async function ne(){const e=document.getElementById("exercise-cards-container");e.innerHTML="<p>Loading exercises...</p>";try{const t=oe[i.filter.toLowerCase()];if(!t){console.warn("‚ùó –ù–µ–≤—ñ–¥–æ–º–∏–π —Ñ—ñ–ª—å—Ç—Ä:",i.filter);return}const o={[t]:i.category,keyword:i.keyword,page:i.page,limit:i.limit},n=(await ee(o)).results;if(!n.length){e.innerHTML="<p>No exercises found.</p>";return}e.innerHTML=n.map(se).join("")}catch(t){e.innerHTML="<p>Error loading exercises.</p>",console.error("‚ùå Exercise loading error:",t.message)}}function se(e){return`
   <div class="workout-card ex-card">
        <div class="workout-header">
          <span class="workout-badge">WORKOUT</span>
          <button class="start-button" data-exercise-id=${e._id}>Start ‚ûî</button>
        </div>
        <div class="workout-body">
          <span class="workout-icon-running">
            <img
              src="../img/quote_icon_1.svg"
              width="24px"
              height="24px"
              alt="Running Icon"
            />
          </span>        
          <h3 class="workout-name">${e.name}</h3>
          <p class="workout-stats">
            Burned calories: ${e.burnedCalories} / ${e.time} min
            <br>
            Body part: ${e.bodyPart} <br>  Target: ${e.target}
          </p>
        </div>
      </div>
  `}function ae(e){return e.charAt(0).toUpperCase()+e.slice(1)}const d=document.getElementById("exercise-cards-container"),ie={muscles:"Muscles","body parts":"Body parts",equipment:"Equipment"};let v=[];function ce(){document.querySelectorAll(".filter-btn").forEach(t=>{t.addEventListener("click",o=>{var n;const r=o.currentTarget.dataset.type.toLowerCase().trim();i.filter=r,i.page=1,i.category=null,i.keyword="",(n=document.querySelector(".filter-btn.active"))==null||n.classList.remove("active"),t.classList.add("active"),q(i.filter)})}),le().then(()=>{var t;i.filter="muscles",(t=document.querySelector('.filter-btn[data-type="Muscles"]'))==null||t.classList.add("active"),q(i.filter)})}async function le(){d.innerHTML="<p>Loading categories...</p>";try{v=(await V({page:1,limit:100})).results;const t=v.map(x).join("");d.innerHTML=t,T()}catch(e){console.error("‚ùå –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ:",e.message),d.innerHTML="<p>Error loading categories.</p>"}de()}function q(e){d.innerHTML="<p>Loading filtered categories...</p>";const t=ie[e];if(!t){console.warn("‚ùó –ù–µ–≤—ñ–¥–æ–º–∏–π —Ñ—ñ–ª—å—Ç—Ä:",e),d.innerHTML="<p>No filter selected.</p>";return}const o=v.filter(n=>n.filter.trim().toLowerCase()===t.toLowerCase());if(!o.length){d.innerHTML="<p>No categories found for this filter.</p>";return}const r=o.map(x).join("");d.innerHTML=r,T()}function T(){document.querySelectorAll(".category-card").forEach(e=>{e.addEventListener("click",()=>{var r;const t=e.dataset.name,o=(r=e.dataset.type)==null?void 0:r.toLowerCase().trim();re(t,o)})})}function x(e){return`
    <div class="category-card" 
     data-name="${e.name}" 
     data-type="${e.filter}" 
     data-id="${e.id}">
	 <div class="overlay"></div>
  <div class="category-card-bg" style="background-image: url('${e.imgURL}')">
    <div class="category-card-text">
      <h3 class="category-card-title">${I(e.name)}</h3>
      <p class="category-card-sub">${I(e.filter)}</p>
    </div>
  </div>
</div>

  `}function de(){const e=document.getElementById("search-input");e&&e.addEventListener("input",t=>{const o=t.target.value.trim().toLowerCase(),r=v.filter(a=>a.name.toLowerCase().startsWith(o));if(!r.length){d.innerHTML="<p>–ù—ñ—á–æ–≥–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ.</p>";return}const n=r.map(x).join("");d.innerHTML=n,T()})}function I(e){return e.charAt(0).toUpperCase()+e.slice(1)}const ue=async()=>{const{data:e}=await p.get("/quote");return e},D=()=>new Date().toISOString().split("T")[0],me=async()=>{try{const e=await ue(),t=D(),o={...e,date:t};return localStorage.setItem("quoteOfTheDay",JSON.stringify(o)),o}catch(e){const{status:t}=e,o=$[t]||`Unexpected error (${e.message||"unknown"})`;throw{code:t,message:o}}};async function ge(e,t){try{const o=JSON.parse(localStorage.getItem("quoteOfTheDay")),r=D();let n,a,c;if(o!=null&&o.date===r)a=o.author,c=o.quote;else{const g=await me();a=g.author,c=g.quote}e.textContent=c,t.textContent=a}catch(o){console.log("üöÄ ~ error in getQuoteOfTheDay data rendering:",o)}}function pe(e,t,o=!0){if(!t||t.length===0){e.innerHTML="";return}const r=t.map(n=>`
    <li class="workout-list-item">
      <div class="workout-card">
        <div class="workout-header">
          <span class="workout-badge">WORKOUT</span>
          ${o?`
            <button class="delete-button" aria-label="Delete workout">
              <img src="../img/trash-icon.svg" alt="Delete" width="16" height="16">
            </button>
          `:""}
          <button class="start-button" data-exercise-id=${n._id}>Start ‚ûî</button>
        </div>
        <div class="workout-body">
          <span class="workout-icon-running">
            <img
              src="../img/quote_icon_1.svg"
              width="24px"
              height="24px"
              alt="Running Icon"
            />
          </span>        
          <h3 class="workout-name">${n.name}</h3>
          <p class="workout-stats">
            Burned calories: ${n.burnedCalories} / ${n.time} min
            <br>
            Body part: ${n.bodyPart} <br>  Target: ${n.target}
          </p>
        </div>
      </div>
    </li>
    `).join("");e.innerHTML=r}const ye=document.querySelector(".quote-day-card-text"),fe=document.querySelector(".quote-day-card-author"),he=document.querySelector(".workout-list");l.burgerButton.addEventListener("click",Q);l.closeButton.addEventListener("click",b);l.backdrop.addEventListener("click",X);document.addEventListener("keydown",K);l.navLinks.forEach(e=>e.addEventListener("click",G));document.addEventListener("DOMContentLoaded",z());window.addEventListener("scroll",F);y.scrollToTopBtn.addEventListener("click",O);function H(){s.favoriteButton.innerHTML=`
    Add to favorites
    <svg>
      <use href="./img/sprite.svg#heart"></use>
    </svg>`}function R(){s.favoriteButton.innerHTML=`
    Remove from favorites
    <svg>
      <use href="./img/sprite.svg#trash"></use>
    </svg>`}function ve(e,t){const o=e.findIndex(r=>r._id===t._id);o===-1?(e.push(t),R()):(e.splice(o,1),H()),localStorage.setItem("favorites",JSON.stringify(e))}async function we(){try{const e=localStorage.getItem("favorites"),t=JSON.parse(e);if(t&&t.length>0)pe(he,t);else{const o=document.querySelector(".not-items-message");o.style.display="block"}}catch(e){console.log("üöÄ ~ error in getFavoritesItems data rendering:",e)}}ge(ye,fe);we();function f(e){return e.charAt(0).toUpperCase()+e.slice(1)}function be(e){s.modalTitle.textContent=f(e.name),s.modalRatingValue.textContent=e.rating,s.modalImage.src=e.gifUrl,s.modalImage.alt=e.name,s.modalTarget.textContent=f(e.target),s.modalBodyPart.textContent=f(e.bodyPart),s.modalEquipment.textContent=f(e.equipment),s.modalPopular.textContent=e.popularity,s.modalCalories.textContent=`${e.burnedCalories}/${e.time} min`,s.modalDescription.textContent=e.description,s.stars.forEach((a,c)=>{c<Math.floor(e.rating)?a.classList.add("filled"):a.classList.remove("filled")});const t=JSON.parse(localStorage.getItem("favorites")||"[]"),o=t.some(a=>a._id===e._id);console.log("exercise:",e),console.log("favorites:",t),console.log("isInFavorites:",o),o?R():H();const r=()=>ve(t,e);s.favoriteButton.addEventListener("click",r),s.closeModalBtn.addEventListener("click",B);const n=a=>{a.target===s.modalExercises?B():a.target===s.modalRating&&w()};window.addEventListener("click",n),s.modalExercises._windowClickHandler=n,s.modalExercises._favoriteClickHandler=r,Le(s.modalExercises),s.ratingButton.addEventListener("click",w)}function Le(e){e.classList.remove("hidden"),setTimeout(()=>{e.classList.add("show")},10),document.body.style.overflow="hidden"}function w(){s.modalExercises.classList.toggle("hidden"),s.modalExercises.classList.toggle("show"),s.modalRating.classList.toggle("hidden"),s.modalRating.classList.toggle("show")}function B(){s.modalExercises.classList.remove("show"),setTimeout(()=>{s.modalExercises.classList.add("hidden"),document.body.style.overflow=""},300),document.body.style.overflow="",s.closeModalBtn.removeEventListener("click",B),s.favoriteButton.removeEventListener("click",s.modalExercises._favoriteClickHandler),s.ratingButton.removeEventListener("click",w),window.removeEventListener("click",s.modalExercises._windowClickHandler)}y.exercisesContainer.addEventListener("click",async function(e){const t=e.target.closest(".start-button");if(t){const o=t.dataset.exerciseId;if(o)try{const r=await te(o);be(r)}catch(r){console.error("Error fetching exercise:",r)}}});const u=document.querySelector('[data-modal="rating"]'),m=u==null?void 0:u.querySelector("form"),L=m==null?void 0:m.querySelectorAll('input[name="rating"]'),Ee=m==null?void 0:m.querySelector(".rating-value"),E=u==null?void 0:u.querySelector("[data-modal-close]");L==null||L.forEach(e=>{e.addEventListener("change",()=>{Ee.textContent=e.value+".0"})});m==null||m.addEventListener("submit",ke);function ke(e){var c;e.preventDefault();const t=e.target,o=+((c=t.querySelector('[name="rating"]:checked'))==null?void 0:c.value)||0,r=t.querySelector('[name="email"]').value.trim(),n=t.querySelector('[name="comment"]').value.trim();if(!o||!r||!n){iziToast.error({message:"–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –ø–æ–ª—è"});return}if(!/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(r)){iziToast.error({message:"–í–≤–µ–¥—ñ—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω–∏–π email"});return}fetch("https://httpbin.org/post",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rating:o,email:r,comment:n})}).then(g=>{if(!g.ok)throw new Error("–ù–µ –≤–¥–∞–ª–æ—Å—è –Ω–∞–¥—ñ—Å–ª–∞—Ç–∏ –æ—Ü—ñ–Ω–∫—É");A(),iziToast.success({message:"–î—è–∫—É—î–º–æ –∑–∞ –≤–∞—à—É –æ—Ü—ñ–Ω–∫—É!"})}).catch(g=>{iziToast.error({message:g.message})})}E==null||E.addEventListener("click",A);function A(){u==null||u.classList.add("hidden"),w()}const Be="your-energy",Te="1.0.0",xe="module",Ce={dev:"vite",build:"vite build --base=/your-energy/",preview:"vite preview"},Se={glob:"^11.0.0",postcss:"^8.4.41","postcss-sort-media-queries":"^5.2.0",vite:"^5.4.6"},qe="Andriy <andygrigs88@gmail.com>",Ie="ISC",Me="/your-energy",$e={axios:"^1.8.4",izitoast:"^1.4.0","lottie-web":"^5.12.2","vite-plugin-full-reload":"^1.2.0","vite-plugin-html-inject":"^1.1.2"},Fe={name:Be,private:!0,version:Te,type:xe,scripts:Ce,devDependencies:Se,author:qe,license:Ie,homepage:Me,dependencies:$e},M=`${window.location.origin}${Fe.homepage}`,Oe=document.querySelectorAll('a[href^="/"]');function De(){M&&Oe.forEach(e=>{const t=e.getAttribute("href"),o=`${M}${t}`;e.href=new URL(o)})}De();document.addEventListener("DOMContentLoaded",()=>{ce()});window.addEventListener("scroll",F);y.scrollToTopBtn.addEventListener("click",O);const h=document.querySelector("#subscribe-form");h&&h.addEventListener("submit",async e=>{e.preventDefault();try{const t=h.email.value;await j(t),h.reset()}catch(t){console.log(t)}});
//# sourceMappingURL=main-CFbB9U2_.js.map
