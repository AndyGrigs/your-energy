{"version":3,"file":"favorites-BSkPwvDC.js","sources":["../../src/js/constants/refs.js","../../src/js/config/api.js","../../src/js/config/axios.js","../../src/js/constants/error-messages.js","../../src/js/services/api/quotes-api.js","../../src/js/utils/getTodayDate.js","../../src/js/services/quotes.js","../../src/js/sharedComponents/quoteOfTheDay.js","../../src/js/sharedComponents/exercisesCards.js","../../src/js/services/favorites.js"],"sourcesContent":["export const refs = {\n\tscrollToTopBtn: document.querySelector('.js-scroll-to-top-btn'),\n\texercisesContainer: document.getElementById('exercise-cards-container'),\n};\n\nexport const modalRefs = {\n\tmodalExercises: document.getElementById('exerciseModal'),\n\tmodalRating: document.getElementById('ratingModal'),\n\tmodalTitle: document.getElementById('modalTitle'),\n\tmodalRatingValue: document.getElementById('modalRating'),\n\tmodalImage: document.getElementById('modalImage'),\n\tmodalTarget: document.getElementById('modalTarget'),\n\tmodalBodyPart: document.getElementById('modalBodyPart'),\n\tmodalEquipment: document.getElementById('modalEquipment'),\n\tmodalPopular: document.getElementById('modalPopular'),\n\tmodalCalories: document.getElementById('modalCalories'),\n\tmodalDescription: document.getElementById('modalDescription'),\n\tstars: document.querySelectorAll('.star'),\n\tfavoriteButton: document.getElementById('favoriteButton'),\n\tratingButton: document.getElementById('ratingButton'),\n\tcloseModalBtn: document.querySelector('.close-button'),\n};\n","export const API_URL = 'https://your-energy.b.goit.study/api';\n","import axios from 'axios';\nimport { API_URL } from './api';\n\naxios.defaults.baseURL = API_URL;\n\nexport default axios;\n","export const getExercisesByFiltersErrs = {\n  404: 'Exercises not found for the given filters.',\n  409: 'Filters are required to perform the search.',\n  500: 'Something went wrong while fetching exercises. Please try again later.',\n};\n\nexport const updateExerciseRatingErrs = {\n  400: 'Invalid request. Please check the body.',\n  404: 'Exercise not found. Please ensure the exercise ID is correct.',\n  409: 'Rating update conflict. The rating already exists with this email.',\n  500: 'Something went wrong while updating the rating. Please try again later.',\n};\n\nexport const getExerciseByIdErrs = {\n  400: 'Invalid request. Please check the exercise ID format.',\n  404: 'Exercise not found with the provided ID.',\n  500: 'Something went wrong while fetching the exercise. Please try again later.',\n};\n\nexport const getFiltersErrs = {\n  404: 'Filters not found. Please check the filters configuration.',\n  500: 'Something went wrong while fetching filters. Please try again later.',\n};\n\nexport const getQuoteOfTheDayErrs = {\n  404: 'Quote not found.',\n  500: 'Something went wrong while fetching the quote. Please try again later.',\n};\n\nexport const createSubscriptionErrs = {\n  400: 'Invalid request. Please check the email format.',\n  404: 'Endpoint not found. Please try again later.',\n  409: 'You are already subscribed.',\n  500: 'Something went wrong on the server. Please try again later.',\n};\n","import axios from '../../config/axios';\n\nexport const getQuoteOfTheDay = async () => {\n  const { data } = await axios.get('/quote');\n  return data;\n};\n","export const getTodayDate = () => {\n  return new Date().toISOString().split('T')[0];\n};\n","import * as api from './api/quotes-api';\nimport * as errorMessages from '../constants/error-messages';\nimport { getTodayDate } from '../utils/getTodayDate';\n\nexport const handleGetQuoteOfTheDay = async () => {\n  try {\n    const quote = await api.getQuoteOfTheDay();\n    const today = getTodayDate();\n\n    const quoteWithDate = {\n      ...quote,\n      date: today,\n    };\n\n    localStorage.setItem('quoteOfTheDay', JSON.stringify(quoteWithDate));\n\n    return quoteWithDate;\n  } catch (error) {\n    const { status } = error;\n    const message =\n      errorMessages.getExercisesByFiltersErrs[status] ||\n      `Unexpected error (${error.message || 'unknown'})`;\n\n    throw {\n      code: status,\n      message: message,\n    };\n  }\n};\n","import { handleGetQuoteOfTheDay } from '../services/quotes.js';\nimport { getTodayDate } from '../utils/getTodayDate.js';\n\nexport async function renderQuoteOfTheDay(quoteText, quoteAuthor) {\n\ttry {\n\t\tconst ls_data = JSON.parse(localStorage.getItem('quoteOfTheDay'));\n\n\t\tconst todayDate = getTodayDate();\n\t\tlet qouteDate;\n\n\t\tlet authorName;\n\t\tlet authorQuote;\n\n\t\tif (ls_data != null) {\n\t\t\tqouteDate = ls_data.date;\n\t\t\tif (todayDate === qouteDate) {\n\t\t\t\tauthorName = ls_data.author;\n\t\t\t\tauthorQuote = ls_data.quote;\n\t\t\t}\n\t\t} else {\n\t\t\tconst requestData = await handleGetQuoteOfTheDay();\n\t\t\tauthorName = requestData.author;\n\t\t\tauthorQuote = requestData.quote;\n\t\t}\n\n\t\tquoteText.textContent = authorQuote;\n\t\tquoteAuthor.textContent = authorName;\n\t} catch (error) {\n\t\tconsole.log('ðŸš€ ~ error in getQuoteOfTheDay data rendering:', error);\n\t}\n}\n","export function preparingCardsMarkup(listElement, items, BtnVisible = true) {\n\tif (!items || items.length === 0) {\n\t\tlistElement.innerHTML = '';\n\t\treturn;\n\t}\n\n\tconst FavoritesMarkup = items\n\t\t.map(\n\t\t\titem => `\n    <li class=\"workout-list-item\">\n      <div class=\"workout-card\">\n        <div class=\"workout-header\">\n          <span class=\"workout-badge\">WORKOUT</span>\n          ${\n\t\t\t\t\t\tBtnVisible\n\t\t\t\t\t\t\t? `\n            <button class=\"delete-button\" aria-label=\"Delete workout\">\n              <img src=\"../img/trash-icon.svg\" alt=\"Delete\" width=\"16\" height=\"16\">\n            </button>\n          `\n\t\t\t\t\t\t\t: ''\n\t\t\t\t\t}\n          <button class=\"start-button\" data-exercise-id=${\n\t\t\t\t\t\titem._id\n\t\t\t\t\t}>Start âž”</button>\n        </div>\n        <div class=\"workout-body\">\n          <span class=\"workout-icon-running\">\n            <img\n              src=\"../img/quote_icon_1.svg\"\n              width=\"24px\"\n              height=\"24px\"\n              alt=\"Running Icon\"\n            />\n          </span>        \n          <h3 class=\"workout-name\">${item.name}</h3>\n          <p class=\"workout-stats\">\n            Burned calories: ${item.burnedCalories} / ${item.time} min\n            <br>\n            Body part: ${item.bodyPart} <br>  Target: ${item.target}\n          </p>\n        </div>\n      </div>\n    </li>\n    `\n\t\t)\n\t\t.join('');\n\n\tlistElement.innerHTML = FavoritesMarkup;\n}\n","import { modalRefs } from '../constants/refs.js';\nimport { renderQuoteOfTheDay } from '../sharedComponents/quoteOfTheDay.js';\nimport { preparingCardsMarkup } from '../sharedComponents/exercisesCards.js';\n\nconst quoteText = document.querySelector('.quote-day-card-text');\nconst quoteAuthor = document.querySelector('.quote-day-card-author');\nconst workuotList = document.querySelector('.workout-list');\n\nexport function setFavoriteButtonToAdd() {\n\tmodalRefs.favoriteButton.innerHTML = `\n    Add to favorites\n    <svg>\n      <use href=\"./img/sprite.svg#heart\"></use>\n    </svg>`;\n}\n\nexport function setFavoriteButtonToRemove() {\n\tmodalRefs.favoriteButton.innerHTML = `\n    Remove from favorites\n    <svg>\n      <use href=\"./img/sprite.svg#trash\"></use>\n    </svg>`;\n}\n\nexport function handleFavoriteClick(favorites, exercise) {\n\tconst exerciseIndex = favorites.findIndex(fav => fav._id === exercise._id);\n\n\tif (exerciseIndex === -1) {\n\t\t// Add to favorites\n\t\tfavorites.push(exercise);\n\t\tsetFavoriteButtonToRemove();\n\t} else {\n\t\t// Remove from favorites\n\t\tfavorites.splice(exerciseIndex, 1);\n\t\tsetFavoriteButtonToAdd();\n\t}\n\n\tlocalStorage.setItem('favorites', JSON.stringify(favorites));\n}\n\nasync function renderFavoritesItems() {\n\ttry {\n\t\tconst favoritesListJson = localStorage.getItem('favorites');\n\t\tconst favoritesList = JSON.parse(favoritesListJson);\n\t\tif (favoritesList && favoritesList.length > 0) {\n\t\t\tpreparingCardsMarkup(workuotList, favoritesList);\n\t\t} else {\n\t\t\tconst error = document.querySelector('.not-items-message');\n\t\t\terror.style.display = 'block';\n\t\t}\n\t} catch (error) {\n\t\tconsole.log('ðŸš€ ~ error in getFavoritesItems data rendering:', error);\n\t}\n}\n\nrenderQuoteOfTheDay(quoteText, quoteAuthor);\nrenderFavoritesItems();\n"],"names":["refs","modalRefs","API_URL","axios","getExercisesByFiltersErrs","getExerciseByIdErrs","createSubscriptionErrs","getQuoteOfTheDay","data","getTodayDate","handleGetQuoteOfTheDay","quote","api.getQuoteOfTheDay","today","quoteWithDate","error","status","message","errorMessages.getExercisesByFiltersErrs","renderQuoteOfTheDay","quoteText","quoteAuthor","ls_data","todayDate","qouteDate","authorName","authorQuote","requestData","preparingCardsMarkup","listElement","items","BtnVisible","FavoritesMarkup","item","workuotList","setFavoriteButtonToAdd","setFavoriteButtonToRemove","handleFavoriteClick","favorites","exercise","exerciseIndex","fav","renderFavoritesItems","favoritesListJson","favoritesList"],"mappings":"+uBAAY,MAACA,EAAO,CACnB,eAAgB,SAAS,cAAc,uBAAuB,EAC9D,mBAAoB,SAAS,eAAe,0BAA0B,CACvE,EAEaC,EAAY,CACxB,eAAgB,SAAS,eAAe,eAAe,EACvD,YAAa,SAAS,eAAe,aAAa,EAClD,WAAY,SAAS,eAAe,YAAY,EAChD,iBAAkB,SAAS,eAAe,aAAa,EACvD,WAAY,SAAS,eAAe,YAAY,EAChD,YAAa,SAAS,eAAe,aAAa,EAClD,cAAe,SAAS,eAAe,eAAe,EACtD,eAAgB,SAAS,eAAe,gBAAgB,EACxD,aAAc,SAAS,eAAe,cAAc,EACpD,cAAe,SAAS,eAAe,eAAe,EACtD,iBAAkB,SAAS,eAAe,kBAAkB,EAC5D,MAAO,SAAS,iBAAiB,OAAO,EACxC,eAAgB,SAAS,eAAe,gBAAgB,EACxD,aAAc,SAAS,eAAe,cAAc,EACpD,cAAe,SAAS,cAAc,eAAe,CACtD,ECrBaC,EAAU,uCCGvBC,EAAM,SAAS,QAAUD,ECHb,MAACE,EAA4B,CACvC,IAAK,6CACL,IAAK,8CACL,IAAK,wEACP,EASaC,EAAsB,CACjC,IAAK,wDACL,IAAK,2CACL,IAAK,2EACP,EAYaC,EAAyB,CACpC,IAAK,kDACL,IAAK,8CACL,IAAK,8BACL,IAAK,6DACP,EChCaC,EAAmB,SAAY,CAC1C,KAAM,CAAE,KAAAC,CAAI,EAAK,MAAML,EAAM,IAAI,QAAQ,EACzC,OAAOK,CACT,ECLaC,EAAe,IACnB,IAAI,KAAI,EAAG,YAAW,EAAG,MAAM,GAAG,EAAE,CAAC,ECGjCC,EAAyB,SAAY,CAChD,GAAI,CACF,MAAMC,EAAQ,MAAMC,IACdC,EAAQJ,IAERK,EAAgB,CACpB,GAAGH,EACH,KAAME,CACZ,EAEI,oBAAa,QAAQ,gBAAiB,KAAK,UAAUC,CAAa,CAAC,EAE5DA,CACR,OAAQC,EAAO,CACd,KAAM,CAAE,OAAAC,CAAQ,EAAGD,EACbE,EACJC,EAAwCF,CAAM,GAC9C,qBAAqBD,EAAM,SAAW,SAAS,IAEjD,KAAM,CACJ,KAAMC,EACN,QAASC,CACf,CACG,CACH,ECzBO,eAAeE,EAAoBC,EAAWC,EAAa,CACjE,GAAI,CACH,MAAMC,EAAU,KAAK,MAAM,aAAa,QAAQ,eAAe,CAAC,EAE1DC,EAAYd,IAClB,IAAIe,EAEAC,EACAC,EAEJ,GAAIJ,GAAW,KACdE,EAAYF,EAAQ,KAChBC,IAAcC,IACjBC,EAAaH,EAAQ,OACrBI,EAAcJ,EAAQ,WAEjB,CACN,MAAMK,EAAc,MAAMjB,IAC1Be,EAAaE,EAAY,OACzBD,EAAcC,EAAY,KAC1B,CAEDP,EAAU,YAAcM,EACxBL,EAAY,YAAcI,CAC1B,OAAQV,EAAO,CACf,QAAQ,IAAI,iDAAkDA,CAAK,CACnE,CACF,CC9BO,SAASa,EAAqBC,EAAaC,EAAOC,EAAa,GAAM,CAC3E,GAAI,CAACD,GAASA,EAAM,SAAW,EAAG,CACjCD,EAAY,UAAY,GACxB,MACA,CAED,MAAMG,EAAkBF,EACtB,IACAG,GAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,YAMLF,EACG;AAAA;AAAA;AAAA;AAAA,YAKA,EACH;AAAA,0DAEAE,EAAK,GACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAW+BA,EAAK,IAAI;AAAA;AAAA,+BAEfA,EAAK,cAAc,MAAMA,EAAK,IAAI;AAAA;AAAA,yBAExCA,EAAK,QAAQ,kBAAkBA,EAAK,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA,KAMhE,EACA,KAAK,EAAE,EAETJ,EAAY,UAAYG,CACzB,CC7CA,MAAMZ,EAAY,SAAS,cAAc,sBAAsB,EACzDC,EAAc,SAAS,cAAc,wBAAwB,EAC7Da,EAAc,SAAS,cAAc,eAAe,EAEnD,SAASC,GAAyB,CACxClC,EAAU,eAAe,UAAY;AAAA;AAAA;AAAA;AAAA,WAKtC,CAEO,SAASmC,GAA4B,CAC3CnC,EAAU,eAAe,UAAY;AAAA;AAAA;AAAA;AAAA,WAKtC,CAEO,SAASoC,EAAoBC,EAAWC,EAAU,CACxD,MAAMC,EAAgBF,EAAU,UAAUG,GAAOA,EAAI,MAAQF,EAAS,GAAG,EAErEC,IAAkB,IAErBF,EAAU,KAAKC,CAAQ,EACvBH,MAGAE,EAAU,OAAOE,EAAe,CAAC,EACjCL,KAGD,aAAa,QAAQ,YAAa,KAAK,UAAUG,CAAS,CAAC,CAC5D,CAEA,eAAeI,GAAuB,CACrC,GAAI,CACH,MAAMC,EAAoB,aAAa,QAAQ,WAAW,EACpDC,EAAgB,KAAK,MAAMD,CAAiB,EAClD,GAAIC,GAAiBA,EAAc,OAAS,EAC3ChB,EAAqBM,EAAaU,CAAa,MACzC,CACN,MAAM7B,EAAQ,SAAS,cAAc,oBAAoB,EACzDA,EAAM,MAAM,QAAU,OACtB,CACD,OAAQA,EAAO,CACf,QAAQ,IAAI,kDAAmDA,CAAK,CACpE,CACF,CAEAI,EAAoBC,EAAWC,CAAW,EAC1CqB,EAAsB"}